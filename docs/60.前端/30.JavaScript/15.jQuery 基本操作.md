---
titleTag: null
categories: 
  - 前端
tags: 
  -  JavaScript
---
## 一、 jQuery 基本操作

>   `jQuery` ： 一个快速、简洁的 JS 库，提倡写更少的代码，做更多的事情

## 1. 导入 jQuery 库

1.   打开 [jQuery 官网](https://jquery.com/) https://jquery.com/ ，点击下载

![](https://pupper.com.cn/img/20220726110643.png)

2.   点击任意版本，复制所有代码，在项目根目录创建 `jquery.js` 文件，将复制的内容粘贴到该文件中，

3.   使用命令 引入 jQuery 文件

```HTML
<script src="jquery.js"></script>
```

### 2. jQuery 基本用法

>   `$` 是 jQuery 的别称，在代码中可以使用 `jQuery` 代替 `$` 
>
>   `$` 是 jQuery 的顶级对象，相对于原生 JS 中的 window，把元素利用 $ 包装成 jQuery 对象，可以调用 jQuery 方法。

```HTML
<!DOCTYPE html>
<html lang="cn-zh">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
    // 引入 jquery 库
	<script src="./jquery.js"></script>
	<style>
		.demo {
			width: 100px;
			height: 100px;
			background-color: pink;
		}
	</style>	
</head>
<body>
    <div class="demo"></div>
	<script>
		// 隐藏 div 盒子
        $('div').hide();
	</script>
</body>
</html>
```

### 3. 两种 入口函数

等待页面 DOM 加载完毕，再去执行 JS 代码

```JS
// 第一中方法
$(document).ready(function(){
    $('div').hide();
})

// 第二种方法
$(function(){
    $('div').hide();
})
```

特点：

-   **相对于 原生 JS 中的 DOMContentLoaded** 
    -   页面结构加载完成后即可执行，不要等待图片、视频等资源的加载
-   与 load 不同
    -   load 需要等待页面内容全部加载（包括图片、视频等）

### 4. DOM 对象 和 jQuery 对象

注意：

1.  使用原生 JS 获取的对象就是 DOM 对象；
2.  使用 jQuery 获取的对象就是 jQuery 对象；
3.  jQuery 对象的本质是利用 `$` 对 DOM 对象包装后产生的对象（伪数组形式存储）
4.  **jQuery 对象 和 DOM 对象 的方法不能混用**；

#### DOM 对象 与 jQuery 对象 转换

1.   DOM 对象 转换为 jQuery 对象

语法：

```js
$(DOM对象);
```

```HTML
<div class="demo"></div>
<script>
    var demo = document.querySelector('.demo');
    // DOM 对象 转换为 jQuery 对象
    $(demo);
</script>
```

2.   jQuery 对象 转换为 DOM 对象

语法：

```js
$('div')[index]    // index 是索引号
或者
$('div').get(index)
```

```html 
<div class="demo"></div>
<script>
// jQuery 对象 转换为 DOM 对象
$('div')[0].style.display = 'none';
或
$('div').get[0].style.display = 'none';
</script>
```

## 二、  jQuery 选择器

### 1. jQuery 选择器

语法：

```js
// 选择器直接写 css 选择器即可，但要注意加引号
$('选择器')
```

#### 基础选择器

| 名称       | 用法            | 描述                     |
| ---------- | --------------- | ------------------------ |
| ID选择器   | $("#id")        | 获取指定ID的元素         |
| 全选选择器 | $("*")          | 匹配所有元素             |
| 类选择器   | $(".class")     | 获取同一类class的元素    |
| 标签选择器 | $("div")        | 获取同一类标签的所有元素 |
| 并集选择器 | $("div, p, li") | 选择多个元素             |
| 交集选择器 | $("li.current") | 交集元素                 |

#### 层级选择器

| 名称       | 用法        | 描述                                                         |
| ---------- | ----------- | ------------------------------------------------------------ |
| 子代选择器 | $("ul>li"); | 使用 > 号，获取亲儿子层级的元素；<br />注意，并不会获取孙子层级的元素 |
| 后代选择器 | $("ul li"); | 使用空格，代表后代选择器，<br />获取 ul 下的所有 li 元素，包括 孙子 等 |



```HTML
<div>我是div</div>
<div class="nav">我是 nav div</div>
<p>我是 p</p>
<ol>
    <li>我是 ol 的</li>
    <li>我是 ol 的</li>
</ol>
<ul>
    <li>我是 ul 的</li>
    <li>我是 ul 的</li>
</ul>

<script>
    $(function () { 
        console.log($(".nav")); 	// jQuery.fn.init [div.nav, prevObject: jQuery.fn.init(1)]
        console.log($("ul li"));	// jQuery.fn.init(4) [li, li, li, li, prevObject: jQuery.fn.init(1)]
        //  改变 ul 中最后一个 li 元素的字体颜色
        $("ul li:last").css("color", "red");
        
    })
</script>
```

### 2. 隐式迭代

>   隐式迭代 : 把匹配到的 所有元素 内部进行 遍历循环，给每一个元素添加 css 这个方法

```HTML
<div>我是div</div>
<div class="nav">我是 nav div</div>
<ul>
    <li>隐式迭代</li>
    <li>隐式迭代</li>
    <li>隐式迭代</li>
    <li>隐式迭代</li>
</ul>
<script>
    $(function () { 
        // 隐式迭代 改变所有 div 的 背景颜色
        $("div").css("background", "pink")
        // 改变所有 ul 中的 li 的字体颜色
        $("ul li").css("color", "red")
    })
</script>
```

### 3. 筛选选择器

### 筛选选择器

| 语法       | 用法          | 描述                                     |
| ---------- | ------------- | ---------------------------------------- |
| :first     | $("li:first") | 获取第一个元素                           |
| :last      | $("li:last")  | 获取最后一个元素                         |
| :eq(index) | $("li:eq(2)") | 获取元素中，索引号为 2 的元素            |
| :odd       | $("li:odd")   | 获取所有元素中，索引号为 **奇数** 的元素 |
| :even      | $("li.even")  | 获取所有元素中，索引号为 **偶数** 的元素 |

#### 筛选方法

| 语法               | 用法                            | 说明                                                        |
| ------------------ | ------------------------------- | ----------------------------------------------------------- |
| parent()           | $("li").parent();               | 查找父级,最近一级的父元素                                   |
| parents()          | $("li").parents(".one");        | 查找所有父级中，类名为 one 的父级                           |
| children(selector) | $("ul").children("li");         | 相当于 $("ul>li"), 最近一级（亲儿子）                       |
| find(selector)     | $("ul").find("li");             | 相当于 $("ul li")， 后代选择器                              |
| siblings(selector) | $(".first").siblings("li");     | 查找兄弟节点，不包含自己本身                                |
| nextAll([expr])    | $(".first").nextAll();          | 查找当前元素之 后 所有的同辈元素                            |
| prevtAll([expr])   | $(".last").prevAll();           | 查找当前元素之 前 所有的同辈元素                            |
| hasClass(class)    | $("div").hasClass("protected"); | 检查当前的元素是否含有某个特定的类，<br />如果有，返回 true |
| eq(index)          | $("li").eq(2);                  | 相当于 $("li:eq(2)"),                                       |

```HTML
<button>1</button><button>2</button><button>3</button><button>4</button>
<script>
    $(function () {
        // 隐式迭代 给所有按钮绑定 点击 事件
        $("button").click(function(){
            $(this).css("backgroundColor", '#ccc');
            // 隐式迭代 除它之外的所有兄弟按钮的背景颜色
            $(this).siblings("button").css("backgroundColor", "")
        })
    })
</script>
```



### 案例 --- 动态导航

<iframe height="400" style="width: 100%;" scrolling="no" title="动态导航" src="https://codepen.io/pupperc/embed/MWEXbyO?default-tab=html%2Cresult" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/pupperc/pen/MWEXbyO">
  动态导航</a> by pupper (<a href="https://codepen.io/pupperc">@pupperc</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>

::: details

```HTML
<!DOCTYPE html>
<html lang="zh">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title></title>
	<style type="text/css">
		* {
			padding: 0;
			margin: 0;
		}
		ul{
			list-style: none;
		}
		a {
			text-decoration: none;
			color: #333
		}
		.nav {
			margin: 50px auto;
			width: 600px;
		}
		.nav>li{
			float: left;
			width: 70px;
			text-align: center;
		}
		.nav>li>a{
			display: inline-block;
			width: 70px;
			height: 40px;
			line-height: 40px;
		}
		.nav>li>a:hover {
			background-color: #ccc;
		}
		.nav>li li{
			display: none;
			width: 70px;
			height: 40px;
			line-height: 40px;
			border: 1px solid #fbff24;
			border-top: transparent;
		}
		.nav>li li:hover {
			background-color: coral;
		}
	</style>
	<script src="./jquery.js"></script>
</head>

<body>
	<ul class="nav">
		<li>
			<a href="javascript:;">微博</a>
			<ul>
				<li>
					<a href="javascript:;">私信</a>
				</li>
				<li>
					<a href="javascript:;">评论</a>
				</li>
				<li>
					<a href="javascript:;">@我</a>
				</li>
			</ul>
		</li>
		<li>
			<a href="javascript:;">微博</a>
			<ul>
				<li>
					<a href="javascript:;">私信</a>
				</li>
				<li>
					<a href="javascript:;">评论</a>
				</li>
				<li>
					<a href="javascript:;">@我</a>
				</li>
			</ul>
		</li>
		<li>
			<a href="javascript:;">微博</a>
			<ul>
				<li>
					<a href="javascript:;">私信</a>
				</li>
				<li>
					<a href="javascript:;">评论</a>
				</li>
				<li>
					<a href="javascript:;">@我</a>
				</li>
			</ul>
		</li>
		<li>
			<a href="javascript:;">微博</a>
			<ul>
				<li>
					<a href="javascript:;">私信</a>
				</li>
				<li>
					<a href="javascript:;">评论</a>
				</li>
				<li>
					<a href="javascript:;">@我</a>
				</li>
			</ul>
		</li>
	</ul>
	<script>
		$(function(){
			// 鼠标经过
			$(".nav>li").mouseover(function(){
				// show（） 显示元素
				$(this).find("li").show();
			})
			$(".nav>li").mouseout(function () {
				// 隐藏元素
				$(this).find("li").hide();
			})
		})
	</script>

</html>
```
:::

### 案例 --- 竖向广告

<iframe height="500" style="width: 100%;" scrolling="no" title="竖向广告" src="https://codepen.io/pupperc/embed/mdBKzmd?default-tab=html%2Cresult&editable=true&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/pupperc/pen/mdBKzmd">
  竖向广告</a> by pupper (<a href="https://codepen.io/pupperc">@pupperc</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>

::: details

```HTML
<!DOCTYPE html>
<html lang="cn-zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="./jquery.js"></script>
	<style>
		* {
			padding: 0;
			margin: 0;
			box-sizing: border-box;
		}
		ul {
			list-style: none;
		}
		a {
			text-decoration: none;
			color: #333;
		}
		.demo {
			margin: 50px auto;
			width: 252px;
			height: 252px;
			border: #ff8c09 solid 1px;
			border-collapse: collapse;
		}
		.title {
			float: left;
			width: 50px;
			font-size: 14px;
		}
		.title li {
			height: 27.7px;
			line-height: 27.7px;
			text-align: center;
			border-top: 1px solid #ff8c09;
			border-right: 1px solid #ff8c09;
		}
		.imgs {
			position: relative;
			float: left;
			top: 0px;
			left: 0px;
			width: 200px;
			height: 250px;
		}
		.imgs li {
			position: absolute;
			float: left;
			width: 200px;
			height: 250px;
			display: none;
		}
		.imgs li:first-child {
			display: block;
		}
		
	</style>
</head>

<body>
	<div class="demo">
		<ul class="title">
			<li>羽绒服</li>
			<li>雪地靴</li>
			<li>围巾</li>
			<li>皮衣</li>
			<li>皮带</li>
			<li>女靴</li>
			<li>女裤</li>
			<li>女包</li>
			<li>牛仔裤</li>
		</ul>
		<ul class="imgs">
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061043601.jpg" alt=""></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061043600.jpg" alt=""></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061043599.jpg" alt=""></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061043598.jpg" alt=""></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061043597.jpg" alt=""></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061043596.jpg" alt=""></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061043595.jpg" alt=""></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061043594.jpg" alt=""></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061043593.jpg" alt=""></a></li>
		</ul>
	</div>
	<script>
		$(function () {
			$('.title>li').mouseover(function(){
				var ind = $(this).index();
				$(".imgs li").eq(ind).show()
				$(".imgs li").eq(ind).siblings().hide();
			})
		  })
	</script>
</body>
</html>
```
:::

### 4. 链式编程

代码优化：

```js
// 优化前
$(function () {
    $('.title>li').mouseover(function(){
        var ind = $(this).index();
        $(".imgs li").eq(ind).show()
        $(".imgs li").eq(ind).siblings().hide();
    })
})

// 优化后 --- 链式编程
$(function () {
    $('.title>li').mouseover(function(){
        var ind = $(this).index();
        // 链式编程
        $(".imgs li").eq(ind).show().siblings().hide();
    })
})
```

## 三、 jQuery 样式操作

### 1. 操作 css 方法

1.   参数 只写 **属性名**，则返回属性值

```js
$(this).css("color");
```

2.   参数是 **属性名，属性值，逗号分隔**，是设置一组样式

```js
$(this).css("color", "red");
```

3.   参数可以是对象的形式，方便设置多组样式，属性名与属性值用 冒号 隔开
     1.   复合属性必须采用 驼峰命名法
     2.   如果值不是数字，需要加引号

```js
$(this).css({
    color: "white", 
    fontSize: 20
});
```

### 2. 设置 类 样式方法

1.   添加 类

```js
$("div").addClass("current");
```

2.   删除 类

```js
$("div").removeClass("current");
```

3.   切换 类

>   切换类 ： 如果元素有这个类名，就 删除这个类名，如果没有，就添加这个类名

```js
$('div').toggleClass("current");
```

<iframe height="400" style="width: 100%;" scrolling="no" title="添加、删除、转换类" src="https://codepen.io/pupperc/embed/rNGKory?default-tab=html%2Cresult&editable=true&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/pupperc/pen/rNGKory">
  添加、删除、转换类</a> by pupper (<a href="https://codepen.io/pupperc">@pupperc</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>

::: details

```HTML
<!DOCTYPE html>
<html lang="cn-zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="./jquery.js"></script>
	<style>
		.demo {
			width: 200px;
			height: 200px;
			background-color: aquamarine;
		}
		button {
			margin-top: 20px;
			display: inline-block;
			width: 65px;
			height: 40px;
		}
		.current {
			border-radius: 50%;
			background-color: red;
		}
		
	</style>
</head>

<body>
	<div class="demo">
	</div>
	<button class="add">添加类</button>
	<button class="remove">删除类</button>
	<button class="toggle">切换类</button>
</body>
	<script>
		$(function(){
			$(".add").click(function(){
				$(".demo").addClass("current");
			})
			$(".remove").click(function () {
				$(".demo").removeClass("current");
			})
			$(".toggle").click(function () {
				$(".demo").toggleClass("current");
			})
		})
	</script>
</html>
```
:::

### 3. jQuery 和 原生 JS 类名操作的区别

jquery 操作类名时，**不会改变** 元素原来的类名，相当于 追加

原生 JS （className）操作类名时，**会覆盖** 元素原来的类名

## 四、 jQuery 效果

### 1. 显示、隐藏

| 方法     | 案例             | 说明           |
| -------- | ---------------- | -------------- |
| show()   | $("div").show(); | 显示元素       |
| hide()   | $('div').hide(); | 隐藏元素       |
| toggle() | $('div').hide(); | 显示与隐藏切换 |

语法：

```js
show([speed, [easing], [fn]]);
hide([speed, [easing], [fn]]);
toggle([speed, [easing], [fn]]);
```

说明：

-   参数都可以省略，无动画直接显示
-   speed： 表示动画时长
    -   三种预定速度之一的字符串（`slow 慢`， `normal 正常`，`fast 快` ）
    -   单位为毫秒的 数值
-   easing ： 用来指定切换的效果，默认为 `swing`（慢 →快→慢）， 可用参数 `linear`（匀速）
-   fn ： 回调函数，在动画完成是执行函数，每个元素执行一次

```html 
<div class="demo"></div>
<button class="add">显示</button>
<button class="remove">隐藏</button>
<button class="toggle">切换</button>

<script>
    $(function () {
        $(".add").click(function () {
            $(".demo").show(1000);
        })
        $(".remove").click(function () {
            $(".demo").hide(1000);
        })
        $(".toggle").click(function () {
            $(".demo").toggle(1000);
        })
    })
</script>
```

### 2. 滑动

| 方法          | 案例                    | 说明     |
| ------------- | ----------------------- | -------- |
| slideDown()   | $("div").slideDown();   | 下拉滑动 |
| slideUp()     | $("div").slideUp();     | 上拉滑动 |
| slideToggle() | $("div").slideToggle(); | 滑动切换 |

语法：

```js
slideDown([speed, [easing], [fn]]);
slideUp([speed, [easing], [fn]]);
slideToggle([speed, [easing], [fn]]);
```

说明：

-   参数都可以省略，无动画直接显示
-   speed： 表示动画时长
    -   三种预定速度之一的字符串（`slow 慢`， `normal 正常`，`fast 快` ）
    -   单位为毫秒的 数值
-   easing ： 用来指定切换的效果，默认为 `swing`（慢 →快→慢）， 可用参数 `linear`（匀速）
-   fn ： 回调函数，在动画完成是执行函数，每个元素执行一次

### 3. 事件切换 `hover`

语法：

```js
hover([over, ] out)
```

说明：

1.   over ： 鼠标移动到元素上时触发的函数（相当于 `mouseenter`）
2.   out ：  鼠标移出元素时触发的函数 （相当于 `mouseleave`）

代码优化：

```js
$(function () {
    // 原来的写法
    $(".nav>li").mouseover(function () {
        $(this).find("li").show();
    })
    $(".nav>li").mouseout(function () {
        $(this).find("li").hide();
    })

    // 优化后
    $(".nav>li").hover(function(){
        // 鼠标经过
        $(this).find("li").slideDown(200);
    }, function(){
        // 鼠标离开
        $(this).find("li").slideUp(200);
    })

    // 再次优化 --- 鼠标经过和离开都会触发函数
    $(".nav>li").hover(function(){
        $(this).find("li").slideToggle(100);
    })
})
```

### 4. 动画队列及停止排队方法

动画或效果一旦触发就会执行，如果多次触发，就会造成多个动画或效果排队执行

停止排队：

```js
stop()
```

::: warning

1.   `stop()` 方法用于 停止 动画 或 效果
2.   `stop()` **必须写在 动画或效果的 前面**，相当于 停止上一次的动画；

:::

```JS
$(".nav>li").hover(function(){
    $(this).find("li").stop().slideToggle(100);
})
```

### 5. 淡入、淡出

| 方法         | 案例                        | 说明   |
| ------------ | --------------------------- | ------ |
| fadeIn()     | $("div").fadeIn();          | 淡入   |
| fadeOut()    | $("div").fadeOut();         | 淡出   |
| fadeToggle() | $("div").fadeToggle();      | 切换   |
| fadeTo()     | $("div").fadeTo(1000, 0.5); | 透明度 |

语法：

```js
fadeIn([speed, [easing], [fn]]);
fadeOut([speed, [easing], [fn]]);
fadeToggle([speed, [easing], [fn]]);

fadeTo([[speed], opacity， [easing], [fn]]);
```

说明：

-   参数都可以省略，无动画直接显示
-   speed： 表示动画时长
    -   三种预定速度之一的字符串（`slow 慢`， `normal 正常`，`fast 快` ）
    -   单位为毫秒的 数值
    -   使用 `fadeTo() ` 时，是必填参数
-   **opacity : 透明度，必填参数**
    -   **取值为 0~1 之间**
-   easing ： 用来指定切换的效果，默认为 `swing`（慢 →快→慢）， 可用参数 `linear`（匀速）
-   fn ： 回调函数，在动画完成是执行函数，每个元素执行一次

### 案例 --- 淡入淡出

<iframe height="500" style="width: 100%;" scrolling="no" title="淡入淡出" src="https://codepen.io/pupperc/embed/WNZyWNm?default-tab=html%2Cresult&editable=true&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/pupperc/pen/WNZyWNm">
  淡入淡出</a> by pupper (<a href="https://codepen.io/pupperc">@pupperc</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>

::: details

```HTML
<!DOCTYPE html>
<html lang="cn-zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="./jquery.js"></script>
	<style>
		*{
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		ul{
			list-style: none;
		}
		body {
			background-color: #333;
		}
		.demo {
			margin: 50px auto;
			width: 602px;
			height: 374px;
			border: 1px solid #fff;
		}
		.demo li {
			float: left;
			width: 200px;
			height: 186px;
			border: 4px solid #333;
			border-collapse: collapse;
			overflow: hidden;
		}
		.demo img {
			display: block;
			width: 100%;
		}

	</style>
</head>

<body>
	<div class="demo">
		<ul>
			<li><img src="https://pupper.com.cn/img/202201061651489.jpg" alt=""></li>
			<li><img src="https://pupper.com.cn/img/202201061651491.jpg" alt=""></li>
			<li><img src="https://pupper.com.cn/img/202201061651492.jpg" alt=""></li>
			<li><img src="https://pupper.com.cn/img/202201061651493.jpg" alt=""></li>
			<li><img src="https://pupper.com.cn/img/202201061651494.jpg" alt=""></li>
			<li><img src="https://pupper.com.cn/img/202201061651495.jpg" alt=""></li>
		</ul>
	</div>
</body>
<script>
	$(function(){
		$(".demo li").hover(function(){
			$(this).siblings("li").stop().fadeTo(200, 0.5);
		}, function(){
			$(this).siblings("li").stop().fadeTo(200, 1);
		})
	})
</script>

</html>
```
:::

### 4. 自定义动画

| 方法      | 案例 | 说明       |
| --------- | ---- | ---------- |
| animate() |      | 自定义动画 |

语法：

```js
animate(params, [speed], [easing], [fn]]);
```

说明：

-   params : 想要更改的样式属性
    -   必填参数，以对象的形式传递
    -   属性名可以不带 引号，如果是复合属性则需要采用驼峰命名法
-   speed： 表示动画时长
    -   三种预定速度之一的字符串（`slow 慢`， `normal 正常`，`fast 快` ）
    -   单位为毫秒的 数值
-   easing ： 用来指定切换的效果，默认为 `swing`（慢 →快→慢）， 可用参数 `linear`（匀速）
-   fn ： 回调函数，在动画完成是执行函数，每个元素执行一次

```HTML
<button>点击</button>
<div class="demo"></div>
<script>
    $(function () {
        $("button").click(function () {
            $(".demo").stop().animate({
                left: 200,
                top: 200,
                opacity: .5,
            }, 300)
        })
    })
```

### 案例 --- 手风琴效果（王者）

<iframe height="400" style="width: 100%;" scrolling="no" title="手风琴（王者）" src="https://codepen.io/pupperc/embed/QWqBpRb?default-tab=html%2Cresult&editable=true&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/pupperc/pen/QWqBpRb">
  手风琴（王者）</a> by pupper (<a href="https://codepen.io/pupperc">@pupperc</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>

::: details

```HTML
<!DOCTYPE html>
<html lang="cn-zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="./jquery.js"></script>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		ul {
			list-style: none;
		}
		.king {
			margin: 100px auto;
			width: 1000px;
			height: 100px;
			background-color: #163D67;			
		}
		.king li {
			position: relative;
			float: left;
			width: 70px;
			height: 100px;
			margin: 0 4px;
			padding-top: 20px;
		}
		.small {
			position: absolute;
			display: block;
			height: 70px;
		}
		.big {
			display: none;
		}
		.king .first {
			width: 225px;
		}
		.first .small {
			display: none;
		}
		.first .big {
			display: block;
		}
		
	</style>
</head>

<body>
	<div class="demo">
		<ul class="king">
			<li class="first"><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061806281.jpg" alt="" class="small"><img src="https://pupper.com.cn/img/202201061806280.png" alt="" class="big"></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061806279.jpg" alt="" class="small"><img src="https://pupper.com.cn/img/202201061806278.png" alt="" class="big"></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061806274.jpg" alt="" class="small"><img src="https://pupper.com.cn/img/202201061806273.png" alt="" class="big"></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061806285.jpg" alt="" class="small"><img src="https://pupper.com.cn/img/202201061806284.png" alt="" class="big"></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061806287.jpg" alt="" class="small"><img src="https://pupper.com.cn/img/202201061806286.png" alt="" class="big"></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061806277.jpg" alt="" class="small"><img src="https://pupper.com.cn/img/202201061806275.png" alt="" class="big"></a></li>
			<li><a href="javascript:;"><img src="https://pupper.com.cn/img/202201061806283.jpg" alt="" class="small"><img src="https://pupper.com.cn/img/202201061806282.png" alt="" class="big"></a></li>
		</ul>
	</div>
	<script>
		$(function(){
			// 当鼠标经过时
			$(".king li").mouseenter(function(){
				// 改变盒子大小，大图显示，小图隐藏
				$(this).stop().animate({
					width: 225,
				}).find(".small").stop().fadeOut().siblings(".big").stop().fadeIn();
				// 他的兄弟 改变盒子大小，大图隐藏，小图显示
				$(this).siblings("li").stop().animate({
					width: 70,
				}).find(".small").stop().fadeIn().siblings(".big").stop().fadeOut();
			});

			// 鼠标离开 ul 盒子，动画恢复初始
			$(".king").mouseleave(function () {
				// 第一个元素 大图显示，小图隐藏
				$(".first").stop().animate({
					width: 225,
				}).find(".small").stop().fadeOut().siblings(".big").stop().fadeIn();
				// 他的兄弟 改变盒子大小，大图隐藏，小图显示
				$(".first").siblings("li").stop().animate({
					width: 70,
				}).find(".small").stop().fadeIn().siblings(".big").stop().fadeOut()
			})
		})
	</script>
</body>
</html>
```
:::

## 五、 jQuery 属性

### 1. 设置 或 获取元素的故意属性值 `prop()`

>   固有属性 ： 元素本身自带的属性，如 a 标签的 href 属性， input 标签的 type 属性

获取属性值：

```js
element.porp("属性名");
```

设置属性：

```js
element.porp("属性名", "属性值");
```

```js
$(function(){
    // 获取属性值
    console.log($("a").prop("href"));
    // 设置属性值
    $("a").prop("href", "http://www.baidu.com")
})
```

### 2. 设置 或 获取自定义属性的值 `attr()`

获取属性值：

```js
element.attr("属性名");	// 类似原生的 getAttribute()
```

设置属性：

```js
element.attr("属性名", "属性值"); // 类似原生的 setAttribute()
```

```js
$(function(){
    // 获取属性值
    console.log($("div").attr("index"));
    // 设置属性值
    $("div").attr("index", "3")
})
```

H5 的自定义属性也可以进行设置 或 获取

### 3. 数据缓存 `data()`

>   `data()` : 方法可以在指定的元素上存取数据，并不会修改 DOM 元素结构

获取数据：

```js
element.data("value");	// 向被选元素获取数据
```

附加数据：

```js
element.data("name", "value"); // 向被选元素附加数据
```

可以读取 HTML5 自定义属性 data-index ， 得到的是数字型

（使用 `data()` 获取 data-index 属性值时，不用书写 `data-`）

```js
$(function(){
    // 向元素附加数据
    $("div").data("uname", "lqdehx");
    // 向元素获取数据
    console.log($("div").data("uname"));	// lqdehx
    // 获取 data-index 属性
    console.log($("div").data("index"))；	// 2
})
```

::: note

`change()` : 元素发生改变时，执行函数

`:checked` : 用于获取复选框选中的 元素

:::

### 案例 --- 购物车 产品全选

<iframe height="400" style="width: 100%;" scrolling="no" title="购物车 全选" src="https://codepen.io/pupperc/embed/JjrByGb?default-tab=html%2Cresult&editable=true&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/pupperc/pen/JjrByGb">
  购物车 全选</a> by pupper (<a href="https://codepen.io/pupperc">@pupperc</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>

::: details

```HTML
<!DOCTYPE html>
<html lang="cn-zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="./jquery.js"></script>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}
		ul {
			list-style: none;
		}
		.demo {
			margin: 50px auto;
			width: 200px;
			height: 100px;
		}
		div {
			padding-top: 10px;
		}
		input {
			display: inline-block;
			width: 20px;
			height: 20px;
		}
		
	</style>
</head>

<body>
	<div class="demo">
		<div class="headr">
			<input type="checkbox" name="" id="" class="checkall">全选
		</div>
		<div class="bodys">
			<ul>
				<li><input type="checkbox" name="" id="" class="j-checkbox">商品1</li>
				<li><input type="checkbox" name="" id="" class="j-checkbox">商品2</li>
				<li><input type="checkbox" name="" id="" class="j-checkbox">商品3</li>
			</ul>
		</div>
		<div class="end">
			<input type="checkbox" name="" id="" class="checkall">全选
		</div>
	</div>

	<script>
		$(function(){
			// 元素发生改变时，检测
			$(".checkall").change(function(){
				// 并集，设置元素属性值
				$(".j-checkbox, .checkall").prop("checked", $(this).prop("checked"));
			})

			$(".j-checkbox").change(function(){
				// 如果选中的个数等于 产品的总数，则全选按钮勾选
				if($(".j-checkbox:checked").length == $(".j-checkbox").length){
					$(".checkall").prop("checked", true)
				}else {
					$(".checkall").prop("checked", false)
				}
			})
		})
	</script>
</body>
</html>
```
:::

## 六、 jQuery 内容文本值

### 1. 普通元素内容 `html()`

>   `html()` 相等于原生的 `innerHTML`

语法：

```js
// 获取元素的内容
html()

// 设置元素的内容
html("内容")
```

```HTML
<div class="demo"><b>你好</b></div>
<script>
    $(function(){
        // 获取元素内容
        console.log($(".demo").html());		// <b>你好</b>
        // 设置元素内容
        console.log($(".demo").html("你是谁"));
    })
</script>
```

### 2. 获取元素 文本内容 `text()`

>   `text()` 相等于原生的 `innerText`

语法：

```js
// 获取元素的内容
text()

// 设置元素的内容
text("内容")
```

```HTML
<div class="demo"><b>你好</b></div>
<script>
    $(function(){
        // 获取元素内容
        console.log($(".demo").text());		// 你好
        // 设置元素内容
        $(".demo").text("你是谁");
    })
</script>
```

### 3. 设置 获取表单值 `val()`

>   `val()` 相等于原生的 `value`

语法：

```js
// 获取表单的值
val()

// 设置表单的值
val("内容")
```

```HTML
<input type="text" name="" id="" value="666">
<script>
    $(function(){
        // 获取表单 value
        console.log($("input").val());		// 666

        // 设置表单 value
        $("input").val("你是谁");
    })
</script>
```

::: note

`str.substr(1)` : 截取字符串 index 1 之后的部分

`number.toFixed(2)` : 保留两位小数

:::

### 案例 --- 商品数量加减

<iframe height="400" style="width: 100%;" scrolling="no" title="商品数量加减" src="https://codepen.io/pupperc/embed/dyVjVEx?default-tab=html%2Cresult&editable=true&theme-id=dark" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/pupperc/pen/dyVjVEx">
  商品数量加减</a> by pupper (<a href="https://codepen.io/pupperc">@pupperc</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>

::: details

```HTML
<!DOCTYPE html>
<html lang="cn-zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<script src="./jquery.js"></script>
	<style>
		*{
			padding: 0;
			margin: 0;
			box-sizing: border-box;
		}
		ul{
			list-style: none;
		}
		.demo{
			margin: 50px auto;
			width: 500px;
			height: 300px;
			border: 1px solid #ccc;
		}
		ul li {
			width: 500px;
			height: 100px;
		}
		ul li div {
			float: left;
			width: 150px;
			height: 100px;
			line-height: 100px;
			text-align: center;
		}
		button {
			width: 15px;
			height: 15px;
		}
		input {
			width: 30px;
		}
	</style>
</head>

<body>
	<div class="demo">
		<ul>
			<li>
				<div class="danjia">￥12.30</div>
				<div class="number">
					<button class="jian">-</button>
					<input type="text" value="1" class="itxt">
					<button class="jia">+</button>
				</div>
				<div class="zongjia">￥12.30</div>
			</li>
			<li>
				<div class="danjia">￥49.90</div>
				<div class="number">
					<button class="jian">-</button>
					<input type="text" value="1" class="itxt">
					<button class="jia">+</button>
				</div>
				<div class="zongjia">￥49.90</div>
			</li>
			<li>
				<div class="danjia">￥53.20</div>
				<div class="number">
					<button class="jian">-</button>
					<input type="text" value="10" class="itxt">
					<button class="jia">+</button>
				</div>
				<div class="zongjia">￥53.20</div>
			</li>
		</ul>
	</div>

	<script>
		$(function () {
			// 点击加号，
			$(".jia").click(function () {
				// 获取 当前 数量
				var num = $(this).siblings(".itxt").val();
				num++;
				// 加 1 后 写入
				$(this).siblings(".itxt").val(num);
				// 获取单价
				var p = $(this).parents(".number").siblings(".danjia").html();
				// 截取 单价
				p = p.substr(1);
				// 保留两位小数
				var price = (p * num).toFixed(2);
				// 写入总价
				$(this).parents(".number").siblings(".zongjia").html("￥" + price)
			})
			// 点击减号，获取当前文本框的 value ，自减 1，设置 自减后的 value 值
			$(".jian").click(function () {
				var num = $(this).siblings(".itxt").val();
				if (num == 1) {
					return false;
				} else {
					num--;
					$(this).siblings(".itxt").val(num);
					// 获取单价
					var p = $(this).parents(".number").siblings(".danjia").html();
					// 截取 单价
					p = p.substr(1);
					// 写入总价
					$(this).parents(".number").siblings(".zongjia").html("￥" + (p * num).toFixed(2))
				}
			})
		})
	</script>
</body>

</html>
```
:::

## 七、 jQuery 元素操作

### 1. 遍历元素 `cach`

> 隐式迭代 ： 对同一类元素做相同的操作。
>
> 如果想要给同一类元素做不同的操作时，就需要遍历。

语法1：

```js
$("div").each(funtion(index, domEle){xxx;})
```

说明：

1. `cach()` 方法遍历匹配的每一个元素，主要用 DOM 处理
2. 回调函数参数：
   1. index ： 每个元素的索引号，也可以自定义函数参数
   2. demEle ： 每个 DOM 元素对象，不是 jQuery 对象
3. **想要使用 jQuery 方法，需要给这个 dom 元素转换为 jquery 对象 `$(domEle)`**

``` html
<div>1</div>
<div>2</div>
<div>3</div>
    
<script>
$(function(){
	 var colors = ["red", "green", "blue"];
		// 遍历所有的 div 元素
    $("div").each(function(index, ele){
		// 分别对每一个元素 设置字体颜色
		$(ele).css("color", colors[index])
		})
})
</script>
```

语法2：

```js
$.each(object, function(index, element){xxx;})
```

说明：

1. `$.each()` 方法可以用于遍历任何对象，主要用于数据处理，比如：数组和对象
2. 回调函数的参数：
   1. index ： 每个元素的索引号
   2. element ： 遍历内容

```html
<div>1</div>
<div>2</div>
<div>3</div>

<script>
  $(function(){
    var colors = ["red", "green", "blue"];
    // 遍历对象
    $.each($("div"), function(index, ele){
      // 分别对每一个元素 设置字体颜色
      $(ele).css("color", colors[index])
    })
    // 遍历数组
    $.each({
      name: "aila",
      age: 18
    },function(i, ele){
      console.log(i);
      console.log(ele);
    })
  })
```

### 2. 创建元素

> 创建元素时，只需将 元素标签 放在 `$()` 中即可

语法：

```js
$("<li></li>");
```

### 3. 添加元素

#### 元素内部添加 语法：

```js
// 添加元素到目标元素内部的 最后边
element.append("内容");

// 添加元素到目标元素内部的 最前边
element.prepend("内容");
```

注意：

`append` ： 把元素放入匹配元素内部最后边， 类似原生的 `appendChild`

`prepend` ： 把元素放入匹配元素内部最前边

```html
<ul>
  <li>原来的 li </li>
</ul>

<script>
  $(function(){
    var li = $("<li>后来添加的li</li>");
    // 添加的 li 在元素内部 最后边
    $("ul").append(li);
    // 添加的 li 在元素内部 最前面
    $("ul").prepend(li);
  })
```

#### 元素外部添加 语法：

```js
// 把内容放入 目标元素的 后面
element.after("内容");

// 把内容放入 目标元素的 前面
element.before("内容")
```

例如：

```html
<div>原来的元素</div>
    
<script>
  $(function(){
    var div = $("<div>后来添加的元素</div>");
    // 添加到 目标元素的 后面
    $("div").after(div);
    // 添加到目标元素的 前面
    $("div").before(div);
  })
</script>
```

### 3. 删除元素 `remove`

语法：

```js
// 没有参数时，删除元素 本身
element.remove()

// 删除匹配的元素集合中 所有的子节点
element.empty()

// 清空匹配元素的 内容
element.html("")
```

## 八、jQuery 尺寸、位置操作

### 1. jQuery 尺寸

| 语法                                 | 用法                                                         |
| ------------------------------------ | ------------------------------------------------------------ |
| windth() / height()                  | 取得匹配元素宽度和高度值，<br />只算 width 和 height         |
| innerWidth() / innerHeight()         | 取得匹配元素宽度和高度值，<br />包含 padding                 |
| outerWidth() / outerHeight()         | 取得匹配元素宽度和高度值，<br />包含 padding，border         |
| outerWidth(true) / outerHeight(true) | 取得匹配元素宽度和高度值，<br />包含 padding、border、margin |

注意：

1. 参数为空，则获取相应的值，返回的是数字型
2. 有参数，则是修改相应的值
3. 参数可以不写单位

```html
<style>
  .box {
    width: 200px;
    height: 200px;
    padding: 10px;
    margin: 10px;
    border: 5px solid red;
    background-color: green;
  }
</style>

<body>
  <div class="box"></div>

  <script>
    $(function(){
      console.log($(".box").width());  // 200
      // 带参数为 设置 该属性
      console.log($(".box").width(300));
      console.log($(".box").innerWidth()); // 320
      console.log($(".box").outerWidth()); // 330
      console.log($(".box").outerWidth(true)); // 350
    })
  </script>
```

### 2. jQuery 位置

> 主要有三个： `offset()` 、 `position()`、`scrollTop()/scrollLeft()`

#### 1. `offset()` 设置或获取元素偏移

1. `offset()` 方法设置或返回被选元素相对于 **文档** 的偏移坐标，和父元素没关系
2. 该方法有2个属性 left 、 top
    1. offset().top : 用于获取距离 文档 顶部的距离
    2. offset().left : 用于获取距离 文档 左侧的距离
3. 可以使用 数组 设置元素的偏移
    1. `offset({top: 10, left: 30});`

```HTML
<style>
  * {
    margin: 0;
  }
  .demo {
    width: 200px;
    height: 200px;
    margin: 100px;
    background-color: green;
  }
  .box{
    width: 100px;
    height: 100px;
    background-color: pink;
  }
</style>
<body>
  <div class="demo">
    <div class="box"></div>
  </div>

  <script>
    $(function(){
      // 获取 元素距离文档 左侧 的距离
      console.log($(".box").offset().left);   // 100
      // 设置 元素距离文档 顶点的 距离
      $(".box").offset({
        top: 150,
        left: 150
      })
    })
  </script>
```

#### 2. `position()` 获取元素偏移

>   `position()` : 用于返回被选元素相对于 带有定位的父级 偏移坐标，如果父级没有定位，则以文档为准

注意：

`position()` 方法只能获取偏移，不能设置偏移

```html
<style>
  * {
    margin: 0;
  }
  .demo {
    position: relative;
    width: 200px;
    height: 200px;
    margin: 100px;
    background-color: green;
  }
  .box{
    position: absolute;
    left: 10px;
    top: 10px;
    width: 100px;
    height: 100px;
    background-color: pink;
  }
</style>
<body>
  <div class="demo">
    <div class="box"></div>
  </div>

  <script>
    $(function(){
      // 获取 元素距离文档 左侧 的距离
      console.log($(".box").position().left);   // 10
    })
  </script>
```

#### 3. `scrollTop()/scrollLeft()` 设置或获取元素被卷去的头部或左侧

>   scrollTop() ：方法设置或获取被选元素被卷去的头部距离

```HTML
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        body {
            height: 2000px;
        }
        
        .back {
            position: fixed;
            width: 50px;
            height: 50px;
            background-color: pink;
            right: 30px;
            bottom: 100px;
            display: none;
        }
        
        .container {
            width: 900px;
            height: 500px;
            background-color: skyblue;
            margin: 400px auto;
        }
    </style>
    <script src="jquery.min.js"></script>
</head>

<body>
    <div class="back">返回顶部</div>
    <div class="container">
    </div>
    <script>
        $(function() {
            $(document).scrollTop(100);
            // 被卷去的头部 scrollTop()  / 被卷去的左侧 scrollLeft()
            // 页面滚动事件
            var boxTop = $(".container").offset().top;
            $(window).scroll(function() {
                console.log($(document).scrollTop());
                if ($(document).scrollTop() >= boxTop) {
                    $(".back").fadeIn();
                } else {
                    $(".back").fadeOut();
                }
            });
            // 返回顶部
            $(".back").click(function() {
              // 不能是文档而是 html和body元素做动画
                $("body, html").stop().animate({
                    scrollTop: 0
                });
            })
        })
    </script>
</body>

</html>
```

## 九、 jQuery 事件对象

### 1. 事件处理 `on()` 绑定事件

#### 1. 多个事件绑定

>   `on()` ： 方法在匹配元素上绑定一个或多个事件的事件处理函数

语法：

```js
element.on(events,[selector],fn)
```

说明：

1. `events` ： 一个或多个事件类型，用空格分割
2. `selector` ： 元素的子元素选择器

```JS
$(function(){
  // 单个事件注册
  $(".demo").click(function(){
    $(this).css("background", "pink");
  });
  $("div").mouseenter(function(){
    $(this).css("background", "green")
  });
  // 处理事件 on ，可以绑定一个或多个事件
  $("div").on({
    click: function(){
      $(this).css("background", "pink");
    },
    mouseenter: function(){
      $(this).css("background", "green");
    }
  });
  // 多个事件绑定一个函数
  $("div").on("mouseenter mouseleave", function(){
    // 鼠标移入 或 移出时，增加或去除类名
    $(this).toggleClass("current");
  })
})
```

#### 2. 事件委派

>   `on()` : 可以事件委派，即把原来加给子元素身上的时间绑定在父元素身上

```js 
$("ul").on("click", "li", function(){
	alert("hello word");
})
```

说明：

`click` 是绑定在 `ul` 上的，但是触发的对象是 `li`

#### 3. 动态创建的元素 绑定事件

>   `on()` :  可以给 动态创建的元素 绑定事件

```js
<ol></ol>
<script>
  $(function(){
  // 动态创建的元素 绑定 点击事件
  $("ol").on("click", "li", function(){
    alert("11");
  });
  var li = $("<li>后来创建的</li>");
  $("ol").append(li);
})
</script>
```

### 案例 --- 评论框

<iframe height="500" style="width: 100%;" scrolling="no" title="评论" src="https://codepen.io/pupperc/embed/yLzQoPQ?default-tab=html%2Cresult" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/pupperc/pen/yLzQoPQ">
  评论</a> by pupper (<a href="https://codepen.io/pupperc">@pupperc</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>

::: details

``````HTML
<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        * {
            margin: 0;
            padding: 0
        }       
        ul {
            list-style: none
        }       
        .box {
            width: 600px;
            margin: 100px auto;
            border: 1px solid #000;
            padding: 20px;
        }        
        textarea {
            width: 450px;
            height: 160px;
            outline: none;
            resize: none;
        }       
        ul {
            width: 450px;
            padding-left: 80px;
        }        
        ul li {
            line-height: 25px;
            border-bottom: 1px dashed #cccccc;
            display: none;
        }       
        input {
            float: right;
        }
        ul li a {
            float: right;
        }
    </style>
    <script src="jquery.min.js"></script>
    <script>
        $(function() {
            // 1.点击发布按钮， 动态创建一个小li，放入文本框的内容和删除按钮， 并且添加到ul 中
            $(".btn").on("click", function() {
                var li = $("<li></li>");
                li.html($(".txt").val() + "<a href='javascript:;'> 删除</a>");
                $("ul").prepend(li);
                li.slideDown();
                $(".txt").val("");
            })

            // 2.点击的删除按钮，可以删除当前的微博留言li
            // on可以给动态创建的元素绑定事件
            $("ul").on("click", "a", function() {
                $(this).parent().slideUp(function() {
                    $(this).remove();
                });
            })
        })
    </script>
</head>

<body>
    <div class="box" id="weibo">
        <span>微博发布</span>
        <textarea name="" class="txt" cols="30" rows="10"></textarea>
        <button class="btn">发布</button>
        <ul>
        </ul>
    </div>
</body>
</html>
``````

:::

### 2. `off()` 解绑事件

>   `off()` 方法可以移除通过 `on()` 方法添加的事件处理程序

```JS
// 解绑 p 元素所有事件处理程序
$("p").off()

// 解绑 p 元素上面的点击事件
$("p").off("click")

// 解绑 事件委托
$("ul").off("click", "li")
```

如果希望事件只触发一次，可以使用 `one()` 来绑定事件

例如：

```HTML
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        div {
            width: 100px;
            height: 100px;
            background-color: pink;
        }
    </style>
    <script src="jquery.min.js"></script>
    <script>
        $(function() {
            $("div").on({
                click: function() {
                    console.log("我点击了");
                },
                mouseover: function() {
                    console.log('我鼠标经过了');
                }
            });
            $("ul").on("click", "li", function() {
                alert(11);
            });
            // 1. 事件解绑 off 
            // $("div").off();  // 这个是解除了div身上的所有事件
            $("div").off("click"); // 这个是解除了div身上的点击事件
            $("ul").off("click", "li");
            // 2. one() 但是它只能触发事件一次
            $("p").one("click", function() {
                alert(11);
            })
        })
    </script>
</head>

<body>
    <div></div>
    <ul>
        <li>我们都是好孩子</li>
        <li>我们都是好孩子</li>
        <li>我们都是好孩子</li>
    </ul>
    <p>我是屁</p>
</body>

</html>
```

### 3. 自动触发事件 `triggerHandler()`

自动触发事件的三种方式：

```JS
// 1. 元素.事件()，会触发元素的默认行为
$("div").click();

// 2. 元素.trigger("事件")，会触发元素的默认行为
$("div").trigger("click");

// 3. 元素.triggerHandler("事件") 就是不会触发元素的默认行为
$("div").triggerHandler("click");
```

说明：

元素默认事件：如 输入框在点击时，默认会获得光标；

## 十、jQuery 事件对象

语法：

```js
element.on(events,[selentor],function(event){})
```

-   阻止默认行为： `event.preventDefault()` 或者 `return false`
-   阻止冒泡 ： `event.stopPropagation()`

```HTML
<style>
  div {
    width: 100px;
    height: 100px;
    background-color: pink;
  }
</style>
<script src="jquery.min.js"></script>
<script>
  $(function() {
    $(document).on("click", function() {
      console.log("点击了document");

    })
    $("div").on("click", function(event) {
      // console.log(event);
      console.log("点击了div");
      event.stopPropagation();
    })
  })
</script>

<body>
    <div></div>
</body>
```

## 十一、 jQuery 拷贝对象 `$.extend()`

语法：

```js
$.extend([deep], target,[objectN])
```

说明：

1.   deep ： 如果设为 true 则为深拷贝，默认为 false ，为浅拷贝
     1.   浅拷贝 ： 把原来对象里面的复杂数据类型地址拷贝给目标对象
          1.   *会覆盖targetObj 里面原来的数据*
     2.   深拷贝 ： 把里面的数据完全复制一份给目标对象，如果里面有不冲突的属性,会合并到一起
          1.   *会覆盖targetObj 里面原来的数据*
2.   target ： 要拷贝的目标对象
3.   objectN： 待拷贝得对象

```js
var targetObj = {
  id: 0,
  msg: {
    sex: '男'
  }
};
var obj = {
  id: 1,
  name: "andy",
  msg: {
    age: 18
  }
};

// 1. 浅拷贝把原来对象里面的复杂数据类型地址拷贝给目标对象
// 复杂类型的地址一致，所以一个对象更新数据，另一个对象得数据也会更新
$.extend(targetObj, obj);
console.log(targetObj);  // {id: 1, msg: {age: 18}, name: 'andy'}
targetObj.msg.age = 20;
console.log(targetObj);  // {id: 1, msg: {age: 20}, name: 'andy'}
console.log(obj);  // {id: 1, msg: {age: 20}, name: 'andy'}

// 2. 深拷贝把里面的数据完全复制一份给目标对象 如果里面有不冲突的属性,会合并到一起 
// 复杂类型的地址不一致，所以更改互不影响
$.extend(true, targetObj, obj);
console.log(targetObj); // {id: 1, msg: {sex: "男", age: 18}, name: 'andy'}
targetObj.msg.age = 20;
console.log(targetObj); // {id: 1, msg: {sex: "男", age: 20}, name: 'andy'}
console.log(obj);  // {id: 1, msg: {age: 18}, name: 'andy'}
```

## 十二、 jQuery 插件

注意：

这些插件都依赖于 jquery，所以需要导入 jQuery 文件

jQuery 插件常用得网站：

[jquery 插件库](http://www.jq22.com)  http://www.jq22.com

[jquery 之家](http://www.htmleaf.com) http://www.htmleaf.com

插件使用方法：

1.   下载插件文件；
2.   引入相关文件
3.   复制 相关 HTML 、 CSS、JS（调用插件）

### 1.  图片懒加载

图片只显示用户看到得区域

### 2. bootstrap 组件

[bootstrap 组件](https://v3.bootcss.com/components/#nav) https://v3.bootcss.com/components/#nav

## 1. 案例 --- 购物车

<iframe height="500" style="width: 100%;" scrolling="no" title="购物车" src="https://codepen.io/pupperc/embed/mdBzXbL?default-tab=html%2Cresult" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href="https://codepen.io/pupperc/pen/mdBzXbL">
  购物车</a> by pupper (<a href="https://codepen.io/pupperc">@pupperc</a>)
  on <a href="https://codepen.io">CodePen</a>.
</iframe>


::: details

<code-group>  

<code-block title=" HTML ">  

```HTML
    <div class="car-header">
        <div class="w">
            <div class="car-logo">
                <img src="img/logo.png" alt=""> <b>购物车</b>
            </div>
        </div>
    </div>

    </div>
    <div class="c-container">
        <div class="w">
            <div class="cart-filter-bar">
                <em>全部商品</em>
            </div>
            <!-- 购物车主要核心区域 -->
            <div class="cart-warp">
                <!-- 头部全选模块 -->
                <div class="cart-thead">
                    <div class="t-checkbox">
                        <input type="checkbox" name="" id="" class="checkall"> 全选
                    </div>
                    <div class="t-goods">商品</div>
                    <div class="t-price">单价</div>
                    <div class="t-num">数量</div>
                    <div class="t-sum">小计</div>
                    <div class="t-action">操作</div>
                </div>
                <!-- 商品详细模块 -->
                <div class="cart-item-list">
                    <div class="cart-item check-cart-item">
                        <div class="p-checkbox">
                            <input type="checkbox" name="" id="" checked class="j-checkbox">
                        </div>
                        <div class="p-goods">
                            <div class="p-img">
                                <img src="upload/p1.jpg" alt="">
                            </div>
                            <div class="p-msg">【5本26.8元】经典儿童文学彩图青少版八十天环游地球中学生语文教学大纲</div>
                        </div>
                        <div class="p-price">￥12.60</div>
                        <div class="p-num">
                            <div class="quantity-form">
                                <a href="javascript:;" class="decrement">-</a>
                                <input type="text" class="itxt" value="1">
                                <a href="javascript:;" class="increment">+</a>
                            </div>
                        </div>
                        <div class="p-sum">￥12.60</div>
                        <div class="p-action"><a href="javascript:;">删除</a></div>
                    </div>
                    <div class="cart-item">
                        <div class="p-checkbox">
                            <input type="checkbox" name="" id="" class="j-checkbox">
                        </div>
                        <div class="p-goods">
                            <div class="p-img">
                                <img src="upload/p2.jpg" alt="">
                            </div>
                            <div class="p-msg">【2000张贴纸】贴纸书 3-6岁 贴画儿童 贴画书全套12册 贴画 贴纸儿童 汽</div>
                        </div>
                        <div class="p-price">￥24.80</div>
                        <div class="p-num">
                            <div class="quantity-form">
                                <a href="javascript:;" class="decrement">-</a>
                                <input type="text" class="itxt" value="1">
                                <a href="javascript:;" class="increment">+</a>
                            </div>
                        </div>
                        <div class="p-sum">￥24.80</div>
                        <div class="p-action"><a href="javascript:;">删除</a></div>
                    </div>
                    <div class="cart-item">
                        <div class="p-checkbox">
                            <input type="checkbox" name="" id="" class="j-checkbox">
                        </div>
                        <div class="p-goods">
                            <div class="p-img">
                                <img src="upload/p3.jpg" alt="">
                            </div>
                            <div class="p-msg">唐诗三百首+成语故事全2册 一年级课外书 精装注音儿童版 小学生二三年级课外阅读书籍</div>
                        </div>
                        <div class="p-price">￥29.80</div>
                        <div class="p-num">
                            <div class="quantity-form">
                                <a href="javascript:;" class="decrement">-</a>
                                <input type="text" class="itxt" value="1">
                                <a href="javascript:;" class="increment">+</a>
                            </div>
                        </div>
                        <div class="p-sum">￥29.80</div>
                        <div class="p-action"><a href="javascript:;">删除</a></div>
                    </div>
                </div>

                <!-- 结算模块 -->
                <div class="cart-floatbar">
                    <div class="select-all">
                        <input type="checkbox" name="" id="" class="checkall">全选
                    </div>
                    <div class="operation">
                        <a href="javascript:;" class="remove-batch"> 删除选中的商品</a>
                        <a href="javascript:;" class="clear-all">清理购物车</a>
                    </div>
                    <div class="toolbar-right">
                        <div class="amount-sum">已经选<em>1</em>件商品</div>
                        <div class="price-sum">总价： <em>￥12.60</em></div>
                        <div class="btn-area">去结算</div>
                    </div>
                </div>
            </div>
        </div>

    </div>
```

 </code-block>  



<code-block title=" CSS " active>    

```css
.car-header {
    padding: 20px 0;
}

.car-logo img {
    vertical-align: middle;
}

.car-logo b {
    font-size: 20px;
    margin-top: 20px;
    margin-left: 10px;
}

.cart-filter-bar {
    font-size: 16px;
    color: #E2231A;
    font-weight: 700;
}

.cart-filter-bar em {
    padding: 5px;
    border-bottom: 1px solid #E2231A;
}

.cart-thead {
    height: 32px;
    line-height: 32px;
    margin: 5px 0 10px;
    padding: 5px 0;
    background: #f3f3f3;
    border: 1px solid #e9e9e9;
    border-top: 0;
    position: relative;
}

.cart-thead>div,
.cart-item>div {
    float: left;
}

.t-checkbox,
.p-checkbox {
    height: 18px;
    line-height: 18px;
    padding-top: 7px;
    width: 122px;
    padding-left: 11px;
}

.t-goods {
    width: 400px;
}

.t-price {
    width: 120px;
    padding-right: 40px;
    text-align: right;
}

.t-num {
    width: 150px;
    text-align: center;
}

.t-sum {
    width: 100px;
    text-align: right;
}

.t-action {
    width: 130px;
    text-align: right;
}

.cart-item {
    height: 160px;
    border-style: solid;
    border-width: 2px 1px 1px;
    border-color: #aaa #f1f1f1 #f1f1f1;
    background: #fff;
    padding-top: 14px;
    margin: 15px 0;
}

.check-cart-item {
    background: #fff4e8;
}

.p-checkbox {
    width: 50px;
}

.p-goods {
    margin-top: 8px;
    width: 565px;
}

.p-img {
    float: left;
    border: 1px solid #ccc;
    padding: 5px;
}

.p-msg {
    float: left;
    width: 210px;
    margin: 0 10px;
}

.p-price {
    width: 110px;
}

.quantity-form {
    width: 80px;
    height: 22px;
}

.p-num {
    width: 170px;
}

.decrement,
.increment {
    float: left;
    border: 1px solid #cacbcb;
    height: 18px;
    line-height: 18px;
    padding: 1px 0;
    width: 16px;
    text-align: center;
    color: #666;
    margin: 0;
    background: #fff;
    margin-left: -1px;
}

.itxt {
    float: left;
    border: 1px solid #cacbcb;
    width: 42px;
    height: 18px;
    line-height: 18px;
    text-align: center;
    padding: 1px;
    margin: 0;
    margin-left: -1px;
    font-size: 12px;
    font-family: verdana;
    color: #333;
    -webkit-appearance: none;
}

.p-sum {
    font-weight: 700;
    width: 145px;
}


/* 结算模块 */

.cart-floatbar {
    height: 50px;
    border: 1px solid #f0f0f0;
    background: #fff;
    position: relative;
    margin-bottom: 50px;
    line-height: 50px;
}

.select-all {
    float: left;
    height: 18px;
    line-height: 18px;
    padding: 16px 0 16px 9px;
    white-space: nowrap;
}

.select-all input {
    vertical-align: middle;
    display: inline-block;
    margin-right: 5px;
}

.operation {
    float: left;
    width: 200px;
    margin-left: 40px;
}

.clear-all {
    font-weight: 700;
    margin: 0 20px;
}

.toolbar-right {
    float: right;
}

.amount-sum {
    float: left;
}

.amount-sum em {
    font-weight: 700;
    color: #E2231A;
    padding: 0 3px;
}

.price-sum {
    float: left;
    margin: 0 15px;
}

.price-sum em {
    font-size: 16px;
    color: #E2231A;
    font-weight: 700;
}

.btn-area {
    font-weight: 700;
    width: 94px;
    height: 52px;
    line-height: 52px;
    color: #fff;
    text-align: center;
    font-size: 18px;
    font-family: "Microsoft YaHei";
    background: #e54346;
    overflow: hidden;
}
```

</code-block>  

<code-block title=" JS ">    

```JS
$(function() {
    // 1. 全选 全不选功能模块
    // 就是把全选按钮（checkall）的状态赋值给 三个小的按钮（j-checkbox）就可以了
    // 事件可以使用change
    $(".checkall").change(function() {
        // console.log($(this).prop("checked"));
        $(".j-checkbox, .checkall").prop("checked", $(this).prop("checked"));
        if ($(this).prop("checked")) {
            // 让所有的商品添加 check-cart-item 类名
            $(".cart-item").addClass("check-cart-item");
        } else {
            // check-cart-item 移除
            $(".cart-item").removeClass("check-cart-item");
        }
    });
    // 2. 如果小复选框被选中的个数等于3 就应该把全选按钮选上，否则全选按钮不选。
    $(".j-checkbox").change(function() {
        // if(被选中的小的复选框的个数 === 3) {
        //     就要选中全选按钮
        // } else {
        //     不要选中全选按钮
        // }
        // console.log($(".j-checkbox:checked").length);
        // $(".j-checkbox").length 这个是所有的小复选框的个数
        if ($(".j-checkbox:checked").length === $(".j-checkbox").length) {
            $(".checkall").prop("checked", true);
        } else {
            $(".checkall").prop("checked", false);
        }
        if ($(this).prop("checked")) {
            // 让当前的商品添加 check-cart-item 类名
            $(this).parents(".cart-item").addClass("check-cart-item");
        } else {
            // check-cart-item 移除
            $(this).parents(".cart-item").removeClass("check-cart-item");
        }
    });
    // 3. 增减商品数量模块 首先声明一个变量，当我们点击+号（increment），就让这个值++，然后赋值给文本框。
    $(".increment").click(function() {
        // 得到当前兄弟文本框的值
        var n = $(this).siblings(".itxt").val();
        // console.log(n);
        n++;
        $(this).siblings(".itxt").val(n);
        // 3. 计算小计模块 根据文本框的值 乘以 当前商品的价格  就是 商品的小计
        // 当前商品的价格 p  
        var p = $(this).parents(".p-num").siblings(".p-price").html();
        // console.log(p);
        p = p.substr(1);
        console.log(p);
        var price = (p * n).toFixed(2);
        // 小计模块 
        // toFixed(2) 可以让我们保留2位小数
        $(this).parents(".p-num").siblings(".p-sum").html("￥" + price);
        getSum();
    });
    $(".decrement").click(function() {
        // 得到当前兄弟文本框的值
        var n = $(this).siblings(".itxt").val();
        if (n == 1) {
            return false;
        }
        // console.log(n);
        n--;
        $(this).siblings(".itxt").val(n);
        // var p = $(this).parent().parent().siblings(".p-price").html();
        // parents(".p-num") 返回指定的祖先元素
        var p = $(this).parents(".p-num").siblings(".p-price").html();
        // console.log(p);
        p = p.substr(1);
        console.log(p);
        // 小计模块 
        $(this).parents(".p-num").siblings(".p-sum").html("￥" + (p * n).toFixed(2));
        getSum();
    });
    //  4. 用户修改文本框的值 计算 小计模块  
    $(".itxt").change(function() {
        // 先得到文本框的里面的值 乘以 当前商品的单价 
        var n = $(this).val();
        // 当前商品的单价
        var p = $(this).parents(".p-num").siblings(".p-price").html();
        // console.log(p);
        p = p.substr(1);
        $(this).parents(".p-num").siblings(".p-sum").html("￥" + (p * n).toFixed(2));
        getSum();
    });
    // 5. 计算总计和总额模块
    getSum();

    function getSum() {
        var count = 0; // 计算总件数 
        var money = 0; // 计算总价钱
        $(".itxt").each(function(i, ele) {
            count += parseInt($(ele).val());
        });
        $(".amount-sum em").text(count);
        $(".p-sum").each(function(i, ele) {
            money += parseFloat($(ele).text().substr(1));
        });
        $(".price-sum em").text("￥" + money.toFixed(2));
    }
    // 6. 删除商品模块
    // (1) 商品后面的删除按钮
    $(".p-action a").click(function() {
        // 删除的是当前的商品 
        $(this).parents(".cart-item").remove();
        getSum();
    });
    // (2) 删除选中的商品
    $(".remove-batch").click(function() {
        // 删除的是小的复选框选中的商品
        $(".j-checkbox:checked").parents(".cart-item").remove();
        getSum();
    });
    // (3) 清空购物车 删除全部商品
    $(".clear-all").click(function() {
        $(".cart-item").remove();
        getSum();
    })
})
```

</code-block>

</code-group>

:::



