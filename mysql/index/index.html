<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL - 索引介绍 | Pupper blog</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.yuque.com/pupper/"><style>.theme-vdoing-content { display:none }</noscript>
    <script src="https://fastly.jsdelivr.net/npm/twikoo@1.4.18/dist/twikoo.all.min.js"></script>
    <script>var _hmt = _hmt || [];
            (function() {
              var hm = document.createElement("script");
              hm.src = "https://hm.baidu.com/hm.js?85e3b4d561f36bc09a451ad0cc26728a";
              var s = document.getElementsByTagName("script")[0]; 
              s.parentNode.insertBefore(hm, s);
            })();
          </script>
    <meta name="description" content="Pupper 的个人知识库, Python、Java、前端、测试等相关知识, 记录生活和技术路程, 同时分享编程技巧。">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="Pupper 个人博客, Python、Java、数据库、测试等相关知识, 记录生活和技术路程。">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.4e4730e6.css" as="style"><link rel="preload" href="/assets/js/app.6c8cf824.js" as="script"><link rel="preload" href="/assets/js/2.cab146ac.js" as="script"><link rel="preload" href="/assets/js/48.d3af2831.js" as="script"><link rel="preload" href="/assets/js/15.729d73c0.js" as="script"><link rel="preload" href="/assets/js/5.054aa8a5.js" as="script"><link rel="preload" href="/assets/js/9.2190f902.js" as="script"><link rel="preload" href="/assets/js/16.c9983272.js" as="script"><link rel="preload" href="/assets/js/12.7fdadcee.js" as="script"><link rel="prefetch" href="/assets/js/10.d1a268b7.js"><link rel="prefetch" href="/assets/js/11.82453aec.js"><link rel="prefetch" href="/assets/js/13.c2067876.js"><link rel="prefetch" href="/assets/js/14.128af2aa.js"><link rel="prefetch" href="/assets/js/17.c6981240.js"><link rel="prefetch" href="/assets/js/18.15a47ba5.js"><link rel="prefetch" href="/assets/js/19.8d666ff8.js"><link rel="prefetch" href="/assets/js/20.07a6a1ad.js"><link rel="prefetch" href="/assets/js/21.bb20db35.js"><link rel="prefetch" href="/assets/js/22.cfcc4401.js"><link rel="prefetch" href="/assets/js/23.8952da77.js"><link rel="prefetch" href="/assets/js/24.248e062d.js"><link rel="prefetch" href="/assets/js/25.9fe1f190.js"><link rel="prefetch" href="/assets/js/26.5e08f3f5.js"><link rel="prefetch" href="/assets/js/27.0ed3ead2.js"><link rel="prefetch" href="/assets/js/28.4ae77d4a.js"><link rel="prefetch" href="/assets/js/29.0ad31d1f.js"><link rel="prefetch" href="/assets/js/3.265e3e5d.js"><link rel="prefetch" href="/assets/js/30.356c293f.js"><link rel="prefetch" href="/assets/js/31.20fd186d.js"><link rel="prefetch" href="/assets/js/32.f18e55d1.js"><link rel="prefetch" href="/assets/js/33.9bd21920.js"><link rel="prefetch" href="/assets/js/34.a45ada99.js"><link rel="prefetch" href="/assets/js/35.0acd25ff.js"><link rel="prefetch" href="/assets/js/36.d2425255.js"><link rel="prefetch" href="/assets/js/37.7e80b67c.js"><link rel="prefetch" href="/assets/js/38.abcf19ab.js"><link rel="prefetch" href="/assets/js/39.f1b08e63.js"><link rel="prefetch" href="/assets/js/4.cb2fa6fb.js"><link rel="prefetch" href="/assets/js/40.6012c697.js"><link rel="prefetch" href="/assets/js/41.3f7a8c7b.js"><link rel="prefetch" href="/assets/js/42.32f079ab.js"><link rel="prefetch" href="/assets/js/43.efaadcfa.js"><link rel="prefetch" href="/assets/js/44.41d35cde.js"><link rel="prefetch" href="/assets/js/45.c769ca9d.js"><link rel="prefetch" href="/assets/js/46.b9c86026.js"><link rel="prefetch" href="/assets/js/47.a0463949.js"><link rel="prefetch" href="/assets/js/49.cca9c671.js"><link rel="prefetch" href="/assets/js/50.42ffcb6d.js"><link rel="prefetch" href="/assets/js/51.bb3d84c2.js"><link rel="prefetch" href="/assets/js/52.ee300301.js"><link rel="prefetch" href="/assets/js/53.4f116055.js"><link rel="prefetch" href="/assets/js/54.39ec5e14.js"><link rel="prefetch" href="/assets/js/55.88ee3332.js"><link rel="prefetch" href="/assets/js/56.c97746b0.js"><link rel="prefetch" href="/assets/js/57.e36bbfe6.js"><link rel="prefetch" href="/assets/js/58.5e0221fa.js"><link rel="prefetch" href="/assets/js/59.0dc97e14.js"><link rel="prefetch" href="/assets/js/6.3be3a2eb.js"><link rel="prefetch" href="/assets/js/60.749e4dc6.js"><link rel="prefetch" href="/assets/js/61.4bd9c305.js"><link rel="prefetch" href="/assets/js/62.1d4d6092.js"><link rel="prefetch" href="/assets/js/63.db88ad47.js"><link rel="prefetch" href="/assets/js/64.8c5bf0c0.js"><link rel="prefetch" href="/assets/js/65.53e11c06.js"><link rel="prefetch" href="/assets/js/66.e5dd2e3f.js"><link rel="prefetch" href="/assets/js/67.cc44c0d5.js"><link rel="prefetch" href="/assets/js/68.4db746f2.js"><link rel="prefetch" href="/assets/js/69.cb0b7c0c.js"><link rel="prefetch" href="/assets/js/7.5baae454.js"><link rel="prefetch" href="/assets/js/70.5248a770.js"><link rel="prefetch" href="/assets/js/71.5cc203ed.js"><link rel="prefetch" href="/assets/js/72.26582465.js"><link rel="prefetch" href="/assets/js/73.4c542aaa.js"><link rel="prefetch" href="/assets/js/74.d9f0cd17.js"><link rel="prefetch" href="/assets/js/75.bccca4f9.js"><link rel="prefetch" href="/assets/js/76.0e87a643.js"><link rel="prefetch" href="/assets/js/77.e92b4ee8.js"><link rel="prefetch" href="/assets/js/78.3e47132e.js"><link rel="prefetch" href="/assets/js/79.9ab81e7a.js"><link rel="prefetch" href="/assets/js/8.09bc4798.js"><link rel="prefetch" href="/assets/js/80.989f75d6.js"><link rel="prefetch" href="/assets/js/81.fd7e13bd.js"><link rel="prefetch" href="/assets/js/82.a66ad82d.js"><link rel="prefetch" href="/assets/js/83.092c8b62.js"><link rel="prefetch" href="/assets/js/84.736285a3.js"><link rel="prefetch" href="/assets/js/85.cca1055d.js"><link rel="prefetch" href="/assets/js/86.6415436a.js"><link rel="prefetch" href="/assets/js/87.b47393a6.js"><link rel="prefetch" href="/assets/js/88.d88c9645.js"><link rel="prefetch" href="/assets/js/89.f541c45a.js"><link rel="prefetch" href="/assets/js/90.bd583cf3.js"><link rel="prefetch" href="/assets/js/91.eda2e1c5.js"><link rel="prefetch" href="/assets/js/92.c88b3e8a.js"><link rel="prefetch" href="/assets/js/93.08e4a4ef.js"><link rel="prefetch" href="/assets/js/94.b571b6d7.js">
    <link rel="stylesheet" href="/assets/css/0.styles.4e4730e6.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/index/logo.png" alt="Pupper blog" class="logo"> <span class="site-name can-hide">Pupper blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/java/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/basis/" class="nav-link">Java基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/python/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/basis/" class="nav-link">Python基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link router-link-active">MySQL</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label=" Linux" class="dropdown-title"><a href="/linux/" class="link-title"> Linux</a> <span class="title" style="display:none;"> Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/linux/basis/" class="nav-link">Linux 基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="测试" class="dropdown-title"><a href="/test/" class="link-title">测试</a> <span class="title" style="display:none;">测试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>软件测试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/performance/" class="nav-link">性能测试</a></li><li class="dropdown-subitem"><a href="/secure/" class="nav-link">安全测试</a></li><li class="dropdown-subitem"><a href="/interface/" class="nav-link">接口测试</a></li><li class="dropdown-subitem"><a href="/exploit/" class="nav-link">测试开发</a></li></ul></li><li class="dropdown-item"><h4>测试技术</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/files/" class="nav-link">文件相关</a></li><li class="dropdown-subitem"><a href="/logs/" class="nav-link">日志相关</a></li><li class="dropdown-subitem"><a href="/servers/" class="nav-link">服务相关</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html/" class="nav-link">HTML5</a></li><li class="dropdown-item"><!----> <a href="/css3/" class="nav-link">CSS3</a></li><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">VUE3</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tool/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pc/" class="nav-link">PC 端工具</a></li><li class="dropdown-item"><!----> <a href="/move/" class="nav-link">移动端工具</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/private/" class="nav-link">私密文件</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>本站</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">归档</a></li></ul></li><li class="dropdown-item"><h4>我的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">关于</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-area/" class="nav-link">留言区</a></div> <a href="https://github.com/Kele-Bingtang/Kele-Bingtang.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="docs/.vuepress/public/img/user/avatar.png"> <div class="blogger-info"><h3>Pupper</h3> <span>谁说码农不是👩🏻‍🌾农民工...</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><a href="/java/" class="link-title">Java</a> <span class="title" style="display:none;">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/java/basis/" class="nav-link">Java基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Python" class="dropdown-title"><a href="/python/" class="link-title">Python</a> <span class="title" style="display:none;">Python</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/python/basis/" class="nav-link">Python基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link router-link-active">MySQL</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label=" Linux" class="dropdown-title"><a href="/linux/" class="link-title"> Linux</a> <span class="title" style="display:none;"> Linux</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/linux/basis/" class="nav-link">Linux 基础</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="测试" class="dropdown-title"><a href="/test/" class="link-title">测试</a> <span class="title" style="display:none;">测试</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>软件测试</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/performance/" class="nav-link">性能测试</a></li><li class="dropdown-subitem"><a href="/secure/" class="nav-link">安全测试</a></li><li class="dropdown-subitem"><a href="/interface/" class="nav-link">接口测试</a></li><li class="dropdown-subitem"><a href="/exploit/" class="nav-link">测试开发</a></li></ul></li><li class="dropdown-item"><h4>测试技术</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/files/" class="nav-link">文件相关</a></li><li class="dropdown-subitem"><a href="/logs/" class="nav-link">日志相关</a></li><li class="dropdown-subitem"><a href="/servers/" class="nav-link">服务相关</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/html/" class="nav-link">HTML5</a></li><li class="dropdown-item"><!----> <a href="/css3/" class="nav-link">CSS3</a></li><li class="dropdown-item"><!----> <a href="/javascript/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/vue/" class="nav-link">VUE3</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><a href="/tool/" class="link-title">工具</a> <span class="title" style="display:none;">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pc/" class="nav-link">PC 端工具</a></li><li class="dropdown-item"><!----> <a href="/move/" class="nav-link">移动端工具</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/private/" class="nav-link">私密文件</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>本站</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-subitem"><a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-subitem"><a href="/archives/" class="nav-link">归档</a></li></ul></li><li class="dropdown-item"><h4>我的</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/about/website/introduce/" class="nav-link">关于</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/message-area/" class="nav-link">留言区</a></div> <a href="https://github.com/Kele-Bingtang/Kele-Bingtang.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Mysql 数据库</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mysql/install/" class="sidebar-link">MySQL - 安装</a></li><li><a href="/mysql/index/" aria-current="page" class="active sidebar-link">MySQL - 索引介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/mysql/index/#推荐文章" class="sidebar-link">推荐文章</a></li><li class="sidebar-sub-header level2"><a href="/mysql/index/#索引的概念" class="sidebar-link">索引的概念</a></li><li class="sidebar-sub-header level2"><a href="/mysql/index/#索引结构" class="sidebar-link">索引结构</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/mysql/index/#btree-索引结构" class="sidebar-link">Btree 索引结构</a></li><li class="sidebar-sub-header level4"><a href="/mysql/index/#演变过程" class="sidebar-link">演变过程</a></li><li class="sidebar-sub-header level4"><a href="/mysql/index/#其他" class="sidebar-link">其他</a></li><li class="sidebar-sub-header level3"><a href="/mysql/index/#b-tree-结构" class="sidebar-link">B+tree 结构</a></li><li class="sidebar-sub-header level3"><a href="/mysql/index/#mysql中的b-tree" class="sidebar-link">MySQL中的B+Tree</a></li><li class="sidebar-sub-header level3"><a href="/mysql/index/#聚簇索引和非聚簇索引" class="sidebar-link">聚簇索引和非聚簇索引</a></li><li class="sidebar-sub-header level3"><a href="/mysql/index/#时间复杂度" class="sidebar-link">时间复杂度</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/mysql/index/#索引分类" class="sidebar-link">索引分类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/mysql/index/#单列索引" class="sidebar-link">单列索引</a></li><li class="sidebar-sub-header level3"><a href="/mysql/index/#唯一索引" class="sidebar-link">唯一索引</a></li><li class="sidebar-sub-header level3"><a href="/mysql/index/#复合索引" class="sidebar-link">复合索引</a></li><li class="sidebar-sub-header level3"><a href="/mysql/index/#主键索引" class="sidebar-link">主键索引</a></li><li class="sidebar-sub-header level3"><a href="/mysql/index/#索引基本语法" class="sidebar-link">索引基本语法</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/mysql/index/#索引设计原则" class="sidebar-link">索引设计原则</a></li></ul></li><li><a href="/mysql/logic/" class="sidebar-link">MySQL - 逻辑架构简介</a></li><li><a href="/mysql/optimize-sql-check/" class="sidebar-link">MySQL - 检测优化SQL</a></li><li><a href="/mysql/index-use/" class="sidebar-link">MySQL - 索引的使用</a></li><li><a href="/mysql/sql-optimize/" class="sidebar-link">MySQL - SQL语句优化</a></li><li><a href="/mysql/cache-query/" class="sidebar-link">MySQL - 缓存查询优化</a></li><li><a href="/mysql/memory-management/" class="sidebar-link">MySQL - 内存管理优化</a></li><li><a href="/mysql/concurrent-parameter/" class="sidebar-link">MySQL - 并发参数优化</a></li><li><a href="/mysql/lock-question/" class="sidebar-link">MySQL - 锁问题</a></li><li><a href="/mysql/common-use-sql-skill/" class="sidebar-link">MySQL - 常用SQL技巧</a></li><li><a href="/mysql/common-tools/" class="sidebar-link">MySQL - 常用工具</a></li><li><a href="/mysql/log/" class="sidebar-link">MySQL - 日志</a></li><li><a href="/mysql/copy/" class="sidebar-link">MySQL - 主从复制</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E6%95%B0%E6%8D%AE%E5%BA%93" title="分类" data-v-06225672>数据库</a></li><li data-v-06225672><a href="/categories/?category=Mysql%20%E6%95%B0%E6%8D%AE%E5%BA%93" title="分类" data-v-06225672>Mysql 数据库</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://pupper.cn" target="_blank" title="作者" class="beLink" data-v-06225672>Pupper </a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2021-10-24</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">MySQL - 索引介绍<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#推荐文章">推荐文章</a></li><li><a href="#索引的概念">索引的概念</a></li><li><a href="#索引结构">索引结构</a><ul><li><a href="#btree-索引结构">Btree 索引结构</a></li><li><a href="#b-tree-结构">B+tree 结构</a></li><li><a href="#mysql中的b-tree">MySQL中的B+Tree</a></li><li><a href="#聚簇索引和非聚簇索引">聚簇索引和非聚簇索引</a></li><li><a href="#时间复杂度">时间复杂度</a></li></ul></li><li><a href="#索引分类">索引分类</a><ul><li><a href="#单列索引">单列索引</a></li><li><a href="#唯一索引">唯一索引</a></li><li><a href="#复合索引">复合索引</a></li><li><a href="#主键索引">主键索引</a></li><li><a href="#索引基本语法">索引基本语法</a></li></ul></li><li><a href="#索引设计原则">索引设计原则</a></li></ul></div><p></p> <h2 id="推荐文章"><a href="#推荐文章" class="header-anchor">#</a> 推荐文章</h2> <ul><li><p><a href="https://zhuanlan.zhihu.com/p/359306500" target="_blank" rel="noopener noreferrer">MySQL 索引原理 图文讲解<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>涉及到树相关数据结构知识。</p></li> <li><p><a href="https://www.jianshu.com/p/ac12d2c83708" target="_blank" rel="noopener noreferrer">BTree 和 B+Tree<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>详细介绍</p></li> <li><p><a href="https://www.bilibili.com/video/BV1UQ4y1P7Xr?p=6" target="_blank" rel="noopener noreferrer">黑马 MySQL 高级教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <h2 id="索引的概念"><a href="#索引的概念" class="header-anchor">#</a> 索引的概念</h2> <p>索引（Index）是帮助 MySQL 高效获取数据的数据结构，可以简单理解为 <strong>排好序的快速查找数据结构</strong>。</p> <p>在数据之外，数据库系统还维护着满足特定查找算法的数据结构，这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据结构上实现高级查找算法。这种数据结构，就是 <strong>索引</strong>。</p> <p>作为一个索引，一般是采用 Key-Value 的方式来存储内容。Key 表示索引的关键字，而 Value 表示索引内容存放的位置（记录），假设是硬盘中的某个位置，或者说是一个数据文件的偏移量。于是这样就可以根据索引的内容来查询文件的位置。</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145359.png" alt=""></p> <p>左边是数据表，一共有两列七条记录，最左边的是数据记录的物理地址（注意逻辑上相邻的记录在磁盘上也并不是一定物理相邻的）。为了加快 Col2 的查找，可以维护一个右边所示的二叉查找树，每个节点分别包含索引键值和一个指向对应数据记录物理地址的指针，这样就可以运用二叉查找快速获取到相应数据。</p> <p>一般来说索引本身也很大，不可能全部存储在内存中，因此索引往往以索引文件的形式存储在磁盘上。索引是数据库中用来提高性能的最常用的工具。</p> <p><strong>索引优缺点</strong></p> <p>优势：</p> <ul><li>提高数据检索的效率，降低数据库的 IO 成本</li> <li>数据排序，降低 CPU 消耗</li></ul> <p>劣势：</p> <ul><li><p>虽然索引大大提高了查询速度，同时却会降低更新表的速度</p> <p>如对表进行 INSERT、UPDATE 和 DELETE。因为更新表时，MySQL 不仅要保存数据，还要在索引文件保存一下每次更新添加了索引列的字段，都会调整因更新所带来的键值变化后的索引信息。</p></li> <li><p>索引本质也是一张表，保存着索引字段和指向实际记录的指针，所以也要占用数据库空间，一般而言，索引表占用的空间是数据表的 1.5 倍</p></li></ul> <h2 id="索引结构"><a href="#索引结构" class="header-anchor">#</a> 索引结构</h2> <h3 id="btree-索引结构"><a href="#btree-索引结构" class="header-anchor">#</a> Btree 索引结构</h3> <p><strong>Btree 又可以写成 B-tree</strong>（B-Tree，并不是 B「减」树，横杠为连接符，容易被误导）</p> <p>BTree 又叫多路平衡搜索树，一颗 <strong>m</strong> 叉的 BTree 特性如下：</p> <ul><li>树中每个节点最多包含 m 个孩子</li> <li>除根节点与叶子节点外，每个节点至少有 <code>ceil(m / 2)</code> 个孩子</li> <li>若根节点不是叶子节点，则至少有两个孩子</li> <li>所有的叶子节点都在同一层</li> <li>每个非叶子节点由 n 个 key 与 n + 1 个指针组成，其中 <code>ceil(m / 2) - 1 &lt;= n &lt;= m - 1</code></li></ul> <p>celi()：向上取整，例如 <code>celi(2.5) = 3</code>。</p> <h4 id="演变过程"><a href="#演变过程" class="header-anchor">#</a> 演变过程</h4> <p>以 5 叉 BTree 为例，key 的数量：公式推导 ceil(m / 2) - 1 &lt;= n &lt;= m - 1。所以 2 &lt;= n &lt;= 4 。</p> <p>当 n &gt; 4 时，中间节点分裂到父节点，两边节点分裂。</p> <p>插入 C N G A H E K Q M F W L T Z D P R X Y S 数据为例。（插入时，按照 ABCD... 顺序）</p> <p>1). 插入前 4 个字母 C N G A</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145414.png" alt=""></p> <p>2). 插入 H，n &gt; 4，中间元素 G 字母向上分裂到新的节点</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145421.png" alt=""></p> <p>3). 插入 E，K，Q 不需要分裂</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145430.png" alt=""></p> <p>4). 插入 M，中间元素 M 字母向上分裂到父节点 G</p> <p>M 在 K、N 中间，BTree 最多含有 n - 1 个 key，这里即 4 个 key，5 个指针</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145452.png" alt=""></p> <p>5). 插入 F，W，L，T 不需要分裂</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145501.png" alt=""></p> <p>6). 插入 Z，中间元素 T 向上分裂到父节点中</p> <p>插入 Z 后，把 N Q T W Z 的中间 T 提出来，方便更快的查询，所以不提出 Z</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145509.png" alt=""></p> <p>7). 插入 D，中间元素 D 向上分裂到父节点中。然后插入 P，R，X，Y 不需要分裂</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145522.png" alt=""></p> <p>8). 最后插入 S（NPQR 后面），此时节点 n &gt; 5，所以中间节点 Q 向上分裂，但分裂后父节点 DGMT 的 n &gt; 5，中间节点 M 向上分裂</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145533.png" alt=""></p> <p>到此，该 BTree 树就已经构建完成了，BTree 树和二叉树相比，查询数据的效率更高，因为对于相同的数据量来说，BTree 的层级结构比二叉树小，因此搜索速度快。</p> <h4 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h4> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145557.png" alt=""></p> <p><strong>初始化介绍</strong></p> <p>一颗 BTree 树，浅蓝色的块我们称之为一个磁盘块，可以看到每个磁盘块包含几个数据项（深蓝色所示）和指针（黄色所示）。</p> <p>如磁盘块 1 包含数据项 17 和 35，包含指针 P1、P2、P3，P1 表示小于 17 的磁盘块，P2 表示在 17 和 35 之间的磁盘块，P3 表示大于 35 的磁盘块。真实的数据存在于叶子节点即 3、5、9、10、13、15、28、29、36、60、75、79、90、99。非叶子节点只不存储真实的数据，只存储指引搜索方向的数据项，如 17、35 并不真实存在于数据表中。</p> <p><strong>查找过程</strong></p> <p>如果要查找数据项 29，那么首先会把磁盘块 1 由磁盘加载到内存，此时发生一次 IO，在内存中用二分查找确定 29 在 17 和 35 之间，锁定磁盘块 1 的 P2 指针，内存时间因为非常短（相比磁盘的 IO）可以忽略不计，通过磁盘块 1 的 P2 指针的磁盘地址把磁盘块 3 由磁盘加载到内存，发生第二次 IO，29 在 26 和 30 之间，锁定磁盘块 3 的 P2 指 针，通过指针加载磁盘块 8 到内存，发生第三次 IO，同时内存中做二分查找找到 29，结束查询，总计三次 IO。</p> <p>真实的情况是，3 层的 BTree 树可以表示上百万的数据，如果上百万的数据查找只需要三次 IO，性能提高将是巨大的，如果没有索引，每个数据项都要发生一次 IO，那么总共需要百万次的 IO，显然成本非常非常高。</p> <h3 id="b-tree-结构"><a href="#b-tree-结构" class="header-anchor">#</a> B+tree 结构</h3> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145613.png" alt=""></p> <p>B+Tree 为 BTree（也叫 B-Tree）的变种，B+Tree 与 BTree 的区别为：</p> <ul><li><p>n 叉 B+Tree 最多含有 n 个 key，而 BTree 最多含有 n-1 个 key</p></li> <li><p>B+Tree 的叶子节点保存所有的 key 信息，依 key 大小顺序排列</p></li> <li><p>所有的非叶子节点都可以看作是 key 的索引部分</p></li> <li><p>B- 树的关键字和记录是放在一起的，叶子节点可以看作外部节点，不包含任何信息；B+ 树的非叶子节点中只有索引关键字和指向下一个节点的索引，记录（字段位置）只放在叶子节点中</p></li> <li><p>在 B- 树中，越靠近根节点的记录查找时间越快，只要找到关键字即可确定记录的存在；而 B+ 树中每个记录的查找时间基本是一样的，都需要从根节点走到叶子节点，而且在叶子节点中还要再比较关键字。从这个角度看 B- 树的性能好像要比 B+ 树好，而在实际应用中却是 B+ 树的性能要好些。因为 B+ 树的非叶子节点不存放实际的数据，这样每个节点可容纳的元素个数比 B- 树多，树高比 B- 树小（B- 树存放数据量大，所以数深度较大），这样带来的好处是减少磁盘访问次数。尽管 B+ 树找到一个记录所需的比较次数要比 B- 树多，但是一次磁盘访问的时间相当于成百上千次内存比较的时间，因此实际中 B+ 树的性能可能还会好些，而且 B+ 树的叶子节点使用指针连接在一起，方便顺序遍历（例如查看一个目录下的所有文件，一个表中的所有记录等），这也是很多数据库和文件系统使用 B+ 树的缘故</p></li></ul> <p><strong>为什么 B+ 树比 B- 树更适合索引？</strong></p> <blockquote><p>B+ 树的磁盘读写代价更低</p></blockquote> <p>B+ 树的内部结点并没有指向关键字具体信息的指针。因此其内部结点相对 B 树更小。如果把所有同一内部结点的关键字存放在同一盘块中，那么盘块所能容纳的关键字数量也越多。一次性读入内存中的需要查找的关键字也就越多。相对来说 IO 读写次数也就降低了。</p> <blockquote><p>B+ 树的查询效率更加稳定</p></blockquote> <p>由于非终结点并不是最终指向文件内容的结点，而只是叶子结点中关键字的索引。所以任何关键字的查找必须走一条从根结点到叶子结点的路。所有关键字查询的路径长度相同，导致每一个数据的查询效率相当。</p> <h3 id="mysql中的b-tree"><a href="#mysql中的b-tree" class="header-anchor">#</a> MySQL中的B+Tree</h3> <p>MySQL 索引数据结构对经典的 B+Tree 进行了优化。在原 B+Tree 的基础上，增加一个指向相邻叶子节点的链表指针（包括首尾叶子节点），就形成了带有顺序指针的 B+Tree，提高区间访问的性能。</p> <p>并且 MySQL 中的 B+Tree 根节点会存储最小或最大的数据。</p> <p>MySQL 中的 B+Tree 索引结构示意图（叶子节点的指针是双向的）:</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145633.png" alt=""></p> <h3 id="聚簇索引和非聚簇索引"><a href="#聚簇索引和非聚簇索引" class="header-anchor">#</a> 聚簇索引和非聚簇索引</h3> <p>聚簇索引并不是一种单独的索引类型，而是一种数据存储方式。术语「聚簇」表示数据行和相邻的键值聚簇的存储在一起。如下图，左侧的索引就是聚簇索引，因为数据行在磁盘的排列和索引排序保持一致。</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145646.png" alt=""></p> <p><strong>聚簇索引的好处</strong></p> <p>按照聚簇索引排列顺序，查询显示一定范围数据的时候，由于数据都是紧密相连，数据库不不用从多个数据块中提取数据，所以节省了大量的 IO 操作。</p> <p><strong>聚簇索引的限制</strong></p> <p>对于 MySQL 数据库目前只有 InnoDB 数据引擎支持聚簇索引，而 Myisam 并不支持聚簇索引。</p> <p>由于数据物理存储排序方式只能有一种，所以每个 Mysql 的表只能有一个聚簇索引。一般情况下就是该表的主键。</p> <p>为了充分利用聚簇索引的聚簇的特性，所以 InnoDB 表的主键列尽量选用有序的顺序 ID，而不建议用无序的 ID，比如 UUID 这种。</p> <p>所以主键一般都和 <strong>数据</strong> 一起存储在一起，查询就非常快，非聚簇索引是将关键词和 <strong>数据的位置</strong> 存在一起，所以还得根据数据的位置找到数据，相对慢了些。</p> <h3 id="时间复杂度"><a href="#时间复杂度" class="header-anchor">#</a> 时间复杂度</h3> <p>同一问题可用不同算法解决，而一个算法的质量优劣将影响到算法乃至程序的效率。算法分析的目的在于选择合适算法和改进算法。</p> <p>时间复杂度是指执行算法所需要的计算工作量，用大 O 表示记为：O(…)</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145705.png" alt=""></p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145717.png" alt=""></p> <h2 id="索引分类"><a href="#索引分类" class="header-anchor">#</a> 索引分类</h2> <h3 id="单列索引"><a href="#单列索引" class="header-anchor">#</a> 单列索引</h3> <p>概念：即一个索引只包含单个列，一个表可以有多个单列索引。</p> <ul><li><p>索引和表一起创建</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> customer <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  customer_no <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  customer_name <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token punctuation">(</span>customer_name<span class="token punctuation">)</span>	<span class="token comment">#this</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li> <li><p>单独建单列索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> idx_customer_name
<span class="token keyword">ON</span> customer <span class="token punctuation">(</span>customer_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h3 id="唯一索引"><a href="#唯一索引" class="header-anchor">#</a> 唯一索引</h3> <p>概念：索引列的值必须唯一，但允许有空值</p> <ul><li><p>随表一起创建</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> customer <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  customer_no <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  customer_name <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token punctuation">(</span>customer_name<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>customer_no<span class="token punctuation">)</span>	<span class="token comment"># this</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li> <li><p>单独建唯一索引：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">INDEX</span> idx_customer_no
<span class="token keyword">ON</span> customer <span class="token punctuation">(</span>customer_no<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h3 id="复合索引"><a href="#复合索引" class="header-anchor">#</a> 复合索引</h3> <p>概念：即一个索引包含多个列</p> <ul><li><p>随表一起建索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> customer <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  customer_no <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  customer_name <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token punctuation">(</span>customer_name<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">UNIQUE</span> <span class="token punctuation">(</span>customer_name<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token punctuation">(</span>customer_no<span class="token punctuation">,</span> customer_name<span class="token punctuation">)</span>	<span class="token comment">#this</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>单独建索引：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> idx_no_name
<span class="token keyword">ON</span> customer <span class="token punctuation">(</span>customer_no<span class="token punctuation">,</span> customer_name<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h3 id="主键索引"><a href="#主键索引" class="header-anchor">#</a> 主键索引</h3> <p>概念：设定为主键后数据库会自动建立索引，InnoDB 为聚簇索引</p> <ul><li><p>随表一起建索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> customer <span class="token punctuation">(</span>
  id <span class="token keyword">INT</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  customer_no <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  customer_name <span class="token keyword">VARCHAR</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>	<span class="token comment">#this</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>单独建主键索引：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> customer <span class="token keyword">ADD</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> customer<span class="token punctuation">(</span>customer_no<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>删除主键索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> customer <span class="token keyword">drop</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>修改建主键索引</p> <p>必须先删除掉（drop）原索引，再新建（add）索引。</p></li></ul> <h3 id="索引基本语法"><a href="#索引基本语法" class="header-anchor">#</a> 索引基本语法</h3> <ul><li><p>创建</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token punctuation">[</span><span class="token keyword">UNIQUE</span><span class="token punctuation">]</span> <span class="token keyword">INDEX</span> <span class="token punctuation">[</span>indexName<span class="token punctuation">]</span>
<span class="token keyword">ON</span> table_name<span class="token punctuation">(</span><span class="token keyword">column</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>示例 ：为 city 表中的 city_name 字段创建索引；</p> <p><img src="https://fastly.jsdelivr.net/gh/Kele-Bingtang/static/img/MySQL/20211024145742.png" alt=""></p></li> <li><p>删除</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> index_name <span class="token keyword">ON</span> tbl_name<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>查看</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> <span class="token keyword">index</span> <span class="token keyword">from</span> table_name<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>AlTER</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1). alter table tb_name add primary key(column_list); 

	该语句添加一个主键，这意味着索引值必须是唯一的，且不能为 NULL
	
2). alter table tb_name add unique index_name(column_list);
	
	这条语句创建索引的值必须是唯一的（除了 NULL 外，NULL 可能会出现多次）
	
3). alter table tb_name add index index_name(column_list);

	添加普通索引，索引值可以出现多次。
	
4). alter table tb_name add fulltext index_name(column_list);
	
	该语句指定了索引为 FULLTEXT，用于全文索引
	
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li></ul> <h2 id="索引设计原则"><a href="#索引设计原则" class="header-anchor">#</a> 索引设计原则</h2> <p>索引的设计可以遵循一些已有的原则，创建索引的时候请尽量考虑符合这些原则，便于提升索引的使用效率，更高效的使用索引。</p> <ul><li><p>对查询频次较高，且数据量比较大的表建立索引</p></li> <li><p>索引字段的选择，最佳候选列应当从 where 子句的条件中提取，如果 where 子句中的组合比较多，那么应当挑选最常用、过滤效果最好的列的组合</p></li> <li><p>使用唯一索引，区分度越高，使用索引的效率越高</p></li> <li><p>索引可以有效的提升查询数据的效率，但索引数量不是多多益善，索引越多，维护索引的代价自然也就水涨船高。对于插入、更新、删除等 DML 操作比较频繁的表来说，索引过多，会引入相当高的维护代价，降低 DML 操作的效率，增加相应操作的时间消耗。另外索引过多的话，MySQL 也会犯选择困难病，虽然最终仍然会找到一个可用的索引，但无疑提高了选择的代价</p></li> <li><p>使用短索引，索引创建之后也是使用硬盘来存储的，因此提升索引访问的 I/O 效率，也可以提升总体的访问效率。假如构成索引的字段总长度比较短，那么在给定大小的存储块内可以存储更多的索引值，相应的可以有效的提升 MySQL 访问索引的 I/O 效率</p></li> <li><p>利用最左前缀，N 个列组合而成的组合索引，那么相当于是创建了 N 个索引，如果询时 where 子句中使用了组成该索引的前几个字段，那么这条查询 SQL 可以利用组合索引来提升查询效率</p></li></ul> <p>创建复合索引</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> idx_name_email_status <span class="token keyword">ON</span> tb_seller<span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>email<span class="token punctuation">,</span><span class="token keyword">STATUS</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>就相当于</p> <p>​	对 name 创建索引;
​	对 name，email 创建了索引;
​	对 name，email，status 创建了索引;</p> <p><strong>不适合创建索引的情况</strong></p> <ul><li>表记录太少</li> <li>经常增删改的表或者字段</li> <li>Where 条件里用不到的字段不创建索引</li> <li>过滤性不好的不适合建索引</li></ul></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/Kele-Bingtang/Kele-Bingtang.github.io/edit/master/docs/30.数据库/01.Mysql 数据库/03.MySQL - 索引介绍.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93" title="标签">#关系数据库</a></div> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2022/07/15, 11:05:42</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/mysql/install/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">MySQL - 安装</div></a> <a href="/mysql/logic/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">MySQL - 逻辑架构简介</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/mysql/install/" class="prev">MySQL - 安装</a></span> <span class="next"><a href="/mysql/logic/">MySQL - 逻辑架构简介</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/fbae15/"><div>
            性能测试 - test
            <!----></div></a> <span class="date">07-15</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/c9f45b/"><div>
            安全测试 - test
            <!----></div></a> <span class="date">07-15</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/0c3fa7/"><div>
            接口测试 - test
            <!----></div></a> <span class="date">07-15</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/kele-bingtang" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://gitee.com/kele-bingtang" title="Gitee" target="_blank" class="iconfont icon-gitee"></a><a href="https://www.youngkbt.cn" title="网站首页" target="_blank" class="iconfont icon-rss"></a><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=28761025&amp;site=qq&amp;menu=yes" title="QQ" target="_blank" class="iconfont icon-QQ"></a><a href="https://www.youngkbt.cn/?contact=true" title="联系我" target="_blank" class="iconfont icon-youjian"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2022
    <span>Pupper  | blog<br> <a href="https://pupper.cn/" target="_blank"></a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div></div><div></div><div></div><div id="tcomment"></div><!----><APlayer audio="" fixed="true" mini="true" theme="#b7daff" loop="loop" order="list" preload="auto" volume="0.7" mutex="true" lrc-type="0" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer><div></div></div></div>
    <script src="/assets/js/app.6c8cf824.js" defer></script><script src="/assets/js/2.cab146ac.js" defer></script><script src="/assets/js/48.d3af2831.js" defer></script><script src="/assets/js/15.729d73c0.js" defer></script><script src="/assets/js/5.054aa8a5.js" defer></script><script src="/assets/js/9.2190f902.js" defer></script><script src="/assets/js/16.c9983272.js" defer></script><script src="/assets/js/12.7fdadcee.js" defer></script>
  </body>
</html>
