(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{443:function(s,a,t){"use strict";t.r(a);var e=t(1),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"一-java-环境配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-java-环境配置"}},[s._v("#")]),s._v(" 一. JAVA 环境配置")]),s._v(" "),a("h3",{attrs:{id:"_1-验证-java-环境是否安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-验证-java-环境是否安装"}},[s._v("#")]),s._v(" 1. 验证 Java 环境是否安装")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("java --version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220802104141.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_2-mac-java-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-mac-java-安装"}},[s._v("#")]),s._v(" 2.MAC JAVA 安装")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.oracle.com/java/technologies/downloads/#java11-mac",target:"_blank",rel:"noopener noreferrer"}},[s._v("JAVA 官网下载地址"),a("OutboundLink")],1),s._v(" https://www.oracle.com/java/technologies/downloads/#java11-mac\n"),a("img",{attrs:{src:"https://pupper.com.cn/img/20220802105211.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220802105617.png",alt:""}})]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 Java 是否安装成功")]),s._v("\njava --version\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 Java 安装路径")]),s._v("\n/usr/libexec/java_home -V\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220802110426.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_3-环境配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-环境配置"}},[s._v("#")]),s._v(" 3.环境配置")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("第一次配置环境变量，需要创建一个 "),a("code",[s._v(".bash_profil")]),s._v(" 的隐藏配置文件")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" .bash_profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("使用一下命令打开配置文件")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" -e .bash_profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在配置文件中输入一下环境变量")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("JAVA_HOME 的地址需要更换为 上一步 查找的地址")])]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('JAVA_HOME="/Library/Java/JavaVirtualMachines/jdk-11.0.14.jdk/Contents/Home"\nCLASS_PATH="$JAVA_HOME/lib"\nPATH=".$PATH:$JAVA_HOME/bin"\nexport JAVA_HOME\nexport PATH\nexport CLASS_PATH\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("保存关闭文件后, 在 终端 输入一下代码, 重新加载配置文件")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .bash_profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在 终端 输入 "),a("code",[s._v("echo $JAVA_HOME")]),s._v(" ,消失路径则表示 配置完成")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220802112532.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"二-jmeter-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-jmeter-安装"}},[s._v("#")]),s._v(" 二. Jmeter 安装")]),s._v(" "),a("h3",{attrs:{id:"_1-下载-jmeter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-下载-jmeter"}},[s._v("#")]),s._v(" 1. 下载 Jmeter")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://jmeter.apache.org/download_jmeter.cgi",target:"_blank",rel:"noopener noreferrer"}},[s._v("jmeter 官网下载地址"),a("OutboundLink")],1),s._v(" "),a("img",{attrs:{src:"https://pupper.com.cn/img/20220802114515.png",alt:""}})]),s._v(" "),a("p",[s._v("将下载的 压缩包 解压\n"),a("img",{attrs:{src:"https://pupper.com.cn/img/20220802115005.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_2-配置-jmeter"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置-jmeter"}},[s._v("#")]),s._v(" 2. 配置 Jmeter")]),s._v(" "),a("p",[s._v("打开配置文件, 将以下代码添加到配置文件中")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" -e .bash_profile\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("JMETER_HOME 的路径为 你解压的 jmeter 路径")])]),s._v(" "),a("div",{staticClass:"language-text line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("export JMETER_HOME=/Users/chengqiande/Applications/apache-jmeter-5.5\nexport PATH=$JAVA_HOME/bin:$PATH:.:$JMETER_HOME/bin:$PATH\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JMETER_HOME/lib/ext/ApacheJMeter_core.jar:$JMETER_HOME/lib/jorphan.jar:$JMETER_HOME/lib/logkit-2.0.jar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("保存关闭配置文件,使用 "),a("code",[s._v("source .bash_profile")]),s._v(" 重新加载配置文件")]),s._v(" "),a("p",[s._v("在 终端中输入 "),a("code",[s._v("jmeter")]),s._v(" 即可开启 jmeter 程序\n"),a("img",{attrs:{src:"https://pupper.com.cn/img/20220802115757.png",alt:""}}),s._v(" "),a("img",{attrs:{src:"https://pupper.com.cn/img/20220802115814.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_3-jmeter-语言更改"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-jmeter-语言更改"}},[s._v("#")]),s._v(" 3. jmeter 语言更改")]),s._v(" "),a("p",[s._v("在 jmeter 目录中的 bin 文件夹中 找到 "),a("code",[s._v("jmeter.properties")]),s._v(" 文件, 使用 记事本打开\n"),a("img",{attrs:{src:"https://pupper.com.cn/img/20220802115923.png",alt:""}})]),s._v(" "),a("p",[s._v("查找 "),a("code",[s._v("language")]),s._v(" 关键字,然后添加如下代码")]),s._v(" "),a("div",{staticClass:"language-properties line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-properties"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("language")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("zh_CN")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220802120525.png",alt:""}})]),s._v(" "),a("p",[s._v("保存关闭文件,重启 jmeter 即可为中文")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220802120637.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"三-插件管理器-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-插件管理器-安装"}},[s._v("#")]),s._v(" 三.插件管理器 安装")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://jmeter-plugins.org/install/Install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("插件管理器 - 下载地址"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"custom-block theorem"},[a("p",{staticClass:"title"},[s._v("VuePress")]),a("p",[s._v("下载plugins-manager.jar并放入lib/ext目录，然后重启 JMeter。")]),s._v(" "),a("div",{staticClass:"custom-block right"},[a("p",[s._v("来自 "),a("a",{attrs:{href:"https://jmeter-plugins.org/install/Install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("jmeter-plugins 官网"),a("OutboundLink")],1)])])]),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220802144222.png",alt:""}}),s._v(" "),a("img",{attrs:{src:"https://pupper.com.cn/img/20220802144726.png",alt:""}}),s._v("\n重启 jmeter 后, 在 "),a("strong",[s._v("选项")]),s._v(" 菜单中会出现 "),a("strong",[s._v("Plugins Manager")]),s._v(" 选项\n"),a("img",{attrs:{src:"https://pupper.com.cn/img/20220802144916.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"四-jmeter-插件-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-jmeter-插件-安装"}},[s._v("#")]),s._v(" 四. jmeter 插件 安装")]),s._v(" "),a("p",[s._v("打开插件管理器, 在 "),a("strong",[s._v("Available Plugins")]),s._v(" 中搜索 "),a("code",[s._v("Standard Set")]),s._v(" 进行安装, 安装插件后会 自动重启")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220802164240.png",alt:""}})]),s._v(" "),a("p",[s._v("点击线程即可添加 监控\n"),a("img",{attrs:{src:"https://pupper.com.cn/img/20220802164911.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"五-服务器监控-插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-服务器监控-插件"}},[s._v("#")]),s._v(" 五. 服务器监控 插件")]),s._v(" "),a("h3",{attrs:{id:"_1-安装插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装插件"}},[s._v("#")]),s._v(" 1. 安装插件")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/undera/perfmon-agent/releases/tag/2.2.3",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载 ServerAgent 文件"),a("OutboundLink")],1)]),s._v(" "),a("h4",{attrs:{id:"在服务器中创建-jmeter-文件夹-将-serveragent-压缩包上传到文件夹下"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在服务器中创建-jmeter-文件夹-将-serveragent-压缩包上传到文件夹下"}},[s._v("#")]),s._v(" 在服务器中创建 jmeter 文件夹, 将 ServerAgent 压缩包上传到文件夹下")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220804094513.png",alt:""}})]),s._v(" "),a("h4",{attrs:{id:"使用以下命令将-serveragent-压缩包-解压"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用以下命令将-serveragent-压缩包-解压"}},[s._v("#")]),s._v(" 使用以下命令将 ServerAgent 压缩包 解压")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("unzip")]),s._v(" ServerAgent-2.2.3.zip\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220804094824.png",alt:""}})]),s._v(" "),a("h4",{attrs:{id:"修改-serveragent-2-2-3-文件夹-权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改-serveragent-2-2-3-文件夹-权限"}},[s._v("#")]),s._v(" 修改 ServerAgent-2.2.3 文件夹 权限")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" ServerAgent-2.2.3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220804095351.png",alt:""}})]),s._v(" "),a("h3",{attrs:{id:"_2-运行服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-运行服务"}},[s._v("#")]),s._v(" 2. 运行服务")]),s._v(" "),a("h4",{attrs:{id:"查看-4444-端口是否被占用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看-4444-端口是否被占用"}},[s._v("#")]),s._v(" 查看 4444 端口是否被占用")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("lsof")]),s._v(" -i:4444\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"修改-startagent-端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改-startagent-端口"}},[s._v("#")]),s._v(" 修改 startAgent 端口")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("./startAgent.sh --tcp-port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9501")]),s._v(" --udp-port "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9501")]),s._v(" --sysinfo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"修改-startagent-sh-运行脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改-startagent-sh-运行脚本"}},[s._v("#")]),s._v(" 修改 "),a("code",[s._v("startAgent.sh")]),s._v(" 运行脚本")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("在脚本末尾添加 "),a("code",[s._v("&")]),s._v(" 符号, 使脚本可以后台运行")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("vi startAgent.sh")]),s._v(" 打开脚本")]),s._v(" "),a("li",[a("code",[s._v(":wq")]),s._v(" 保存脚本并退出")])])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("java -jar "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dirname")]),s._v(" $0"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("/CMDRunner.jar --tool PerfMonAgent "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$@")]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"运行脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行脚本"}},[s._v("#")]),s._v(" 运行脚本")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("./startAgent.sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"查看服务是否允许"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看服务是否允许"}},[s._v("#")]),s._v(" 查看服务是否允许")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -aux"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" CMD\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220804173804.png",alt:""}})]),s._v(" "),a("h2",{attrs:{id:"六-jmeter-连接-服务器监控"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六-jmeter-连接-服务器监控"}},[s._v("#")]),s._v(" 六. jmeter 连接 服务器监控")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220804174328.png",alt:""}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220804174237.png",alt:""}})])])}),[],!1,null,null,null);a.default=r.exports}}]);