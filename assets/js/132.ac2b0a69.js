(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{470:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"一、pyside2-、-pyqt5-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一、pyside2-、-pyqt5-简介"}},[s._v("#")]),s._v(" 一、PySide2 、 PyQt5 简介")]),s._v(" "),t("p",[s._v("PySide2、PyQt5 都是基于著名的 Qt 库。")]),s._v(" "),t("p",[s._v("Qt库里面有非常强大的图形界面开发库，但是Qt库是C++语言开发的，PySide2、PyQt5可以让我们通过Python语言使用Qt。")]),s._v(" "),t("p",[s._v("PySide2 是Qt的 "),t("code",[s._v("亲儿子")]),s._v(" ， PyQt5 是Qt还没有亲儿子之前的收的 "),t("code",[s._v("义子")]),s._v(" （Riverbank Computing这个公司开发的）。")]),s._v(" "),t("p",[s._v("那为什么 PyQt5 这个义子 反而比 PySide2 这个亲儿子更出名呢？")]),s._v(" "),t("p",[s._v("原因很简单：PySide2 这亲儿子最近（2018年7月）才出生。")]),s._v(" "),t("h2",{attrs:{id:"二、-pyside2-安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二、-pyside2-安装"}},[s._v("#")]),s._v(" 二、 PySide2 安装")]),s._v(" "),t("div",{staticClass:"language-os line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("pip install pyside2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("网络比较慢，可以指定国内的安装源，下载安装。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("pip install pyside2 -i https://pypi.douban.com/simple/\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),t("p",[s._v("Qt 官方网站声明了： "),t("code",[s._v("Windows上 Python 3.8.0")]),s._v(" 调用 Qt 5.14 ， 会有问题。")]),s._v(" "),t("p",[s._v("有类似下面这样的导入错误")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("ImportError: Dll load failed while importing shiboken2: 找不到指定的程序\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("所以， "),t("code",[s._v("就是不能用 Python 3.8.0")]),s._v(" ，请使用3.8.1或者以后的版本， Python 3.7 也可以。")])]),s._v(" "),t("h2",{attrs:{id:"三、-qt-designer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#三、-qt-designer"}},[s._v("#")]),s._v(" 三、 Qt Designer")]),s._v(" "),t("p",[s._v("我们可以用QT界面生成器 "),t("code",[s._v("Qt Designer")]),s._v(" ，拖拖拽拽就可以直观的创建出程序大体的界面。")]),s._v(" "),t("p",[s._v("Windows下，运行 Python安装目录下 "),t("code",[s._v("Scripts\\pyside2-designer.exe")]),s._v(" 这个可执行文件")]),s._v(" "),t("p",[s._v("通过 Qt Designer 设计的界面，最终是保存在一个ui文件中的。")]),s._v(" "),t("h3",{attrs:{id:"_1-pycharm-快速打开-designer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-pycharm-快速打开-designer"}},[s._v("#")]),s._v(" 1.Pycharm 快速打开 Designer")]),s._v(" "),t("p",[s._v("程序："),t("code",[s._v("D:\\python\\Lib\\site-packages\\PySide2\\designer.exe")])]),s._v(" "),t("p",[s._v("工作目录："),t("code",[s._v("$FileDir$")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://pupper.com.cn/img/20220725183126.png",alt:""}})]),s._v(" "),t("p",[s._v("文件夹 "),t("strong",[s._v("右键")]),s._v(" 点击可以快速打开 "),t("strong",[s._v("Designer")]),s._v(" ， 编辑保存后再该目录可以生成一个 "),t("code",[s._v(".ui")]),s._v(" 的文件。")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://pupper.com.cn/img/20220725183153.png",alt:""}})]),s._v(" "),t("h2",{attrs:{id:"四、ui文件加载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#四、ui文件加载"}},[s._v("#")]),s._v(" 四、UI文件加载")]),s._v(" "),t("h3",{attrs:{id:"_1-动态加载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-动态加载"}},[s._v("#")]),s._v(" 1.动态加载")]),s._v(" "),t("p",[s._v("我们的Python程序就可以从文件中加载UI定义，并且动态 创建一个相应的窗口对象")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1.应用对象")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" PySide2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("QtWidgets "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" QApplication\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2.界面UI 文件需要导入代码里")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" PySide2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("QtUiTools "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" QUiLoader\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3.导入读取UI文件的库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" PySide2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("QtCore "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" QFile\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4.创建一个应用对象")]),s._v("\napp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" QApplication"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5.获取 UI 文件")]),s._v("\nqFile "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" QFile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"登录系统.ui"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 6.打开 UI 文件")]),s._v("\nqFile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("open")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("QFile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ReadOnly"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 7.加载 UI 对象")]),s._v("\nui "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" QUiLoader"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("load"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("qFile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 8.关闭 UI 文件")]),s._v("\nqFile"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 9.显示 UI")]),s._v("\nui"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("show"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 10.运行对象")]),s._v("\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exec_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br")])]),t("h3",{attrs:{id:"_2-转化ui文件为python代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-转化ui文件为python代码"}},[s._v("#")]),s._v(" 2.转化UI文件为Python代码")]),s._v(" "),t("p",[s._v("执行如下的命令 把UI文件直接转化为包含界面定义的Python代码文件")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("pyside2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("uic main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ui "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" ui_main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("然后在你的代码文件中这样使用定义界面的类")]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" PySide2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("QtWidgets "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" QApplication"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("QMainWindow\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" ui_main "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Ui_MainWindow\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MainWindow")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("QMainWindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__init__"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用ui文件导入定义界面类")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ui "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Ui_MainWindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 初始化界面")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ui"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("setupUi"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用界面定义的控件，也是从ui里面访问")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ui"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("webview"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("load"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://www.baidu.com'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\napp "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" QApplication"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmainw "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" MainWindow"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmainw"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("show"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\napp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exec_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);