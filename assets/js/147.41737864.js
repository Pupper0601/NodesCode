(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{485:function(t,a,s){"use strict";s.r(a);var _=s(1),e=Object(_.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"一、表单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、表单"}},[t._v("#")]),t._v(" 一、表单")]),t._v(" "),a("h3",{attrs:{id:"_1-表单必填属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-表单必填属性"}},[t._v("#")]),t._v(" 1. 表单必填属性")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("action")]),t._v(" ： 提交的URL")]),t._v(" "),a("li",[a("code",[t._v("method")]),t._v(" ： 请求方法， get 或者 post")]),t._v(" "),a("li",[a("code",[t._v("enctype")]),t._v(" ： 三种编码方式\n"),a("ul",[a("li",[t._v("application/x-www-form-urlencoded           键值对方式")]),t._v(" "),a("li",[t._v("multipart/form-data           二进制编码")]),t._v(" "),a("li",[t._v("text/plain                         文本方式")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220726094632.png",alt:""}})]),t._v(" "),a("h3",{attrs:{id:"_2-处理-request"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-处理-request"}},[t._v("#")]),t._v(" 2. 处理 request")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("判断请求方法 "),a("code",[t._v("request.method")])]),t._v(" "),a("ul",[a("li",[t._v("值是大写的 POST 、GET 、 PUT 、 DELETE")])])]),t._v(" "),a("li",[a("p",[t._v("获取 post 表单数据 "),a("code",[t._v("request.POST[key]")]),t._v("  或者 "),a("code",[t._v("request.POST.get()")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("request.POST 返回的是一个字典")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220726094702.png",alt:""}})])])])])]),t._v(" "),a("h2",{attrs:{id:"二、-django-安全策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、-django-安全策略"}},[t._v("#")]),t._v(" 二、 Django 安全策略")]),t._v(" "),a("h3",{attrs:{id:"_1-csrf-防御机制"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-csrf-防御机制"}},[t._v("#")]),t._v(" 1. CSRF 防御机制")]),t._v(" "),a("p",[a("code",[t._v("settings.py")]),t._v(" 文件")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220726094725.png",alt:""}})]),t._v(" "),a("p",[a("strong",[t._v("CSRF")]),t._v(" : 跨站请求伪造，是一个常见的网络攻击手段。")]),t._v(" "),a("p",[t._v("Django 默认为开启了 防范 CSRF 攻击机制。")]),t._v(" "),a("p",[t._v("对于 GET 请求，一般来说没有这个问题，CSRF 通常是针对 POST 或 PUT 方法的。")]),t._v(" "),a("h3",{attrs:{id:"_2-处理方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-处理方式"}},[t._v("#")]),t._v(" 2. 处理方式")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("将防御机制注释")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 'django.middleware.csrf.CsrfViewMiddleware',")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])]),t._v(" "),a("li",[a("p",[t._v("使用 "),a("code",[t._v("@csrf_exempt")]),t._v(" 装饰器")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220726094757.png",alt:""}})])]),t._v(" "),a("li",[a("p",[t._v("在表单内部加上 "),a("code",[t._v("{%csrf_token%}")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220726094820.png",alt:""}})])])]),t._v(" "),a("h2",{attrs:{id:"三、-请求的重定向"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、-请求的重定向"}},[t._v("#")]),t._v(" 三、 请求的重定向")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("http 重定向")]),t._v(" "),a("ul",[a("li",[t._v("把原本访问 A 的请求 转给 B")]),t._v(" "),a("li",[t._v("状态码 ： 301（永久重定向） 302（临时重定向）")])])]),t._v(" "),a("li",[a("p",[t._v("Django 快捷方法")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("redirect（视图，参数）      对应状态码 302")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220726094846.png",alt:""}})])])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://pupper.com.cn/img/20220726094915.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"四、-django-单元测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、-django-单元测试"}},[t._v("#")]),t._v(" 四、 Django 单元测试")]),t._v(" "),a("p",[t._v("Django 的单元测试采用 Python 的标准模块："),a("code",[t._v("unittest")]),t._v(" 。 该模块以类的形式定义测试。")]),t._v(" "),a("ul",[a("li",[t._v("主要测试对象：数据模型")]),t._v(" "),a("li",[t._v("运行方法："),a("code",[t._v("python manage.py test")])]),t._v(" "),a("li",[t._v("测试文件： app 目录下的 "),a("code",[t._v("test.py")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);